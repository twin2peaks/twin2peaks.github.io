import"./CWj6FrbW.js";import"./BxBDJ3wh.js";import{o as te}from"./B8wiCqmY.js";import{p as se,f as ie,e as N,j as ae,k as u,x as ne,w as re,G as oe,g as le}from"./DDYzr5zF.js";import{b as ce}from"./QoOv2b2N.js";import{a as he,c as fe,s as de}from"./Dwsrbjak.js";import{M as ue,O as pe,B as K,F as W,S as H,U as me,V as q,W as ge,H as we,N as xe,C as _e,a as X,L as Ce,b as ve,c as m,d as Se,R as ye,e as be,P as ze,f as Me,g as B,h as I,E as V,i as Pe,j as Re,Q as Ae}from"./B3HL1xbT.js";import{p as T}from"./D51GUVGu.js";const Ee={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class L{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Le=new pe(-1,1,1,-1,0,1);class ke extends K{constructor(){super(),this.setAttribute("position",new W([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new W([0,2,0,0,2,0],2))}}const Be=new ke;class Te{constructor(e){this._mesh=new ue(Be,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Le)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class De extends L{constructor(e,t="tDiffuse"){super(),this.textureID=t,this.uniforms=null,this.material=null,e instanceof H?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=me.clone(e.uniforms),this.material=new H({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new Te(this.material)}render(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class j extends L{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,r){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let c,g;this.inverse?(c=0,g=1):(c=1,g=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,c,4294967295),s.buffers.stencil.setClear(g),s.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class Fe extends L{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Oe{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const r=e.getSize(new q);this._width=r.width,this._height=r.height,t=new ge(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:we}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new De(Ee),this.copyPass.material.blending=xe,this.clock=new _e}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let r=!1;for(let o=0,s=this.passes.length;o<s;o++){const c=this.passes[o];if(c.enabled!==!1){if(c.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),c.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),c.needsSwap){if(r){const g=this.renderer.getContext(),S=this.renderer.state.buffers.stencil;S.setFunc(g.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),S.setFunc(g.EQUAL,1,4294967295)}this.swapBuffers()}j!==void 0&&(c instanceof j?r=!0:c instanceof Fe&&(r=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new q);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const r=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(r,o),this.renderTarget2.setSize(r,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(r,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Qe extends L{constructor(e,t,r=null,o=null,s=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new X}render(e,t,r){const o=e.autoClear;e.autoClear=!1;let s,c;this.overrideMaterial!==null&&(c=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=c),e.autoClear=o}}var Ue=ie('<div class="animation-container svelte-1lrzhea"></div>');function Ye(C,e){se(e,!1);let t=ne(),r,o,s,c,g,S;new Ce().set(1),new ve({color:"black"});let x=[],A=[],f=[];const D=5;let F=[],E=[],k=[],M=new m(0,0,0),O=Date.now()*.001;function Y(l){const n=l/2,a=[new m(-2.5,-2.5,n),new m(n,-2.5,n),new m(n,n,n),new m(-2.5,n,n),new m(-2.5,-2.5,-2.5),new m(n,-2.5,-2.5),new m(n,n,-2.5),new m(-2.5,n,-2.5)];return[[a[0],a[1]],[a[1],a[2]],[a[2],a[3]],[a[3],a[0]],[a[4],a[5]],[a[5],a[6]],[a[6],a[7]],[a[7],a[4]],[a[0],a[4]],[a[1],a[5]],[a[2],a[6]],[a[3],a[7]]]}function Z(){o.traverse(J),o.children.length=0,new B({color:"black"});const l=new I(5,5,5);new V(l),x=Y(5);for(let i=0;i<x.length;i++){const d=new K().setFromPoints(x[i]),h=new B({color:"black"}),_=new Pe(d,h);o.add(_)}const n=.15,a=new I(n,n,n),w=new B({color:0}),p=new V(a);for(let i=0;i<D;i++){const d=Math.random(),h=Math.floor(d*(x.length-1));E[i]=x[h][0],k[i]=x[h][1],F[i]=Math.random()*.1+.05;const _=E[i].x,y=E[i].y,b=E[i].z;f[i*3]=_,f[i*3+1]=y,f[i*3+2]=b;const z=new Re(p.clone(),w);z.position.set(_,y,b),o.add(z),A.push(z)}Q()}function J(l){if(l.material){const n=l;Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose()}}function Q(){c.render()}function $(l,n,a){const w=n[0]-l.x,p=n[1]-l.y,i=n[2]-l.z,d=new Ae;d.setFromAxisAngle(new m(0,1,0),.1*a);let h=new m(w,p,i);return h.applyQuaternion(d),h.x=l.x+h.x,h.y=l.y+h.y,h.z=l.z+h.z,h}function ee(l,n){const a=n.x-l.x,w=n.y-l.y,p=n.z-l.z;return Math.sqrt(a*a+w*w+p*p)}function U(){const l=Date.now()*.001;let n=l-O;Math.abs(n)>1&&(n=0),O=l;const a=[s.position.x,s.position.y,s.position.z],w=$(M,a,n);s.position.set(w.x,w.y,w.z),s.lookAt(M);for(let i=0;i<D;i++){f[i*3]=A[i].position.x,f[i*3+1]=A[i].position.y,f[i*3+2]=A[i].position.z;const d=new m(f[i*3],f[i*3+1],f[i*3+2]),h=k[i],_=new m(h.x,h.y,h.z),y=d;let b=.2*F[i];try{var p=ee(d,_)}catch{p=0}if(b>=p){b=p;const P=[];for(let v=0;v<x.length;v++)x[v][0].equals(h)&&P.push(x[v]),x[v][1].equals(h)&&P.push([x[v][1],x[v][0]]);if(P.length>0){const v=Math.floor(Math.random()*P.length),R=P[v];k[i]=R[1],f[i*3]=R[0].x,f[i*3+1]=R[0].y,f[i*3+2]=R[0].z}}const z=Math.sqrt((_.x-y.x)**2+(_.y-y.y)**2+(_.z-y.z)**2);if(z!==0){const P=(_.x-y.x)/z,v=(_.y-y.y)/z,R=(_.z-y.z)/z;f[i*3]=d.x+P*b,f[i*3+1]=d.y+v*b,f[i*3+2]=d.z+R*b,A[i].position.set(f[i*3],f[i*3+1],f[i*3+2])}}g=requestAnimationFrame(U),Q()}te(()=>{if(!u(t).clientWidth||!u(t).clientHeight){console.warn("Animation container has no dimensions");return}r=new Se({antialias:!0}),r.setPixelRatio(window.devicePixelRatio),r.setSize(u(t).clientWidth,u(t).clientHeight),r.toneMapping=ye,u(t).appendChild(r.domElement),o=new be,o.background=new X(16119285),s=new ze(40,u(t).clientWidth/u(t).clientHeight,1,200),M=new Me().setFromObject(o).getCenter(new m);const n=10,a=1.1;s.position.x=M.x-n*a,s.position.y=M.y,s.position.z=M.z,s.lookAt(M);const w=new Qe(o,s);if(c=new Oe(r),c.addPass(w),Z(),U(),u(t)&&u(t)instanceof Element){let p=!1;S=new ResizeObserver(()=>{u(t)&&r&&s&&c&&!p&&(p=!0,requestAnimationFrame(()=>{if(u(t)&&r&&s&&c){const i=u(t).clientWidth,d=u(t).clientHeight;r.setSize(i,d),s.aspect=i/d,s.updateProjectionMatrix(),c.setSize(i,d)}p=!1}))}),S.observe(u(t))}return()=>{g&&cancelAnimationFrame(g),S==null||S.disconnect(),r.dispose(),c.dispose()}}),he();var G=Ue();ce(G,l=>re(t,l),()=>u(t)),N(C,G),ae()}function Ze(C,e){let t=T(e,"id",8,""),r=T(e,"background",8,"white"),o=T(e,"padding",8,"normal");fe(C,{get id(){return t()},get class(){return`section section--${r()??""} section--${o()??""}`},children:(s,c)=>{var g=oe(),S=le(g);de(S,e,"default",{},null),N(s,g)},$$slots:{default:!0}})}export{Ye as A,Ze as S};
