var Qn=Object.defineProperty;var Jn=(n,t,e)=>t in n?Qn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var q=(n,t,e)=>Jn(n,typeof t!="symbol"?t+"":t,e);import{aL as ts,aZ as es,am as ns,b as ss,C as is,a as os,U as as,h as Ge,B as rs,c as ls,p as ht,o as Ct,w as rt,x as gt,aM as ft,k as g,v as Se,aN as Ot,y as Y,l as Xt,z as H,e as L,j as dt,t as ct,f as mt,s as et,aY as cs,av as hn,G as Ee,g as Lt,a7 as A,F as hs,A as dn,as as ds}from"./BhId24Go.js";import"./CWj6FrbW.js";import{a as Qt,S as us,C as ps,b as fs,s as ms,g as _s}from"./DlnT498U.js";import{s as X,w as Jt,g as Te,o as gs,e as bs}from"./DZujc9sC.js";import{l as bt,p as j,i as te,a as ee,s as ne}from"./CzZcckri.js";import{a as kt,s as We,t as z,e as un,i as pn}from"./Dn2S8l3x.js";import{b as It,S as se,d as At,c as ys}from"./BBepqRIp.js";import{b as fn}from"./CmkL3v20.js";import{a as ws,b as xs}from"./S0ZzEQNE.js";import{k as vs,c as b,l as Rt,T as Dt,Q as qe,m as ge,V as Q,n as Ss,o as Es,p as mn,q as Ts,r as Ms,s as Ps,t as Me,u as zs,v as ie,M as F,h as _n,w as ut,x as gn,f as jt,y as bn,i as it,z as Ds,A as be,B as wt,g as yn,a as wn,P as xn,D as Rs,G as Cs,I as vn,J as As,K as Ke,X as Os,e as Ls,Y as ks,d as Is,Z as $s,_ as Bs,$ as Ns,a0 as Fs}from"./B3HL1xbT.js";import{c as js}from"./i_OhxVvs.js";import{m as _t}from"./BQ-NveCH.js";import{B as Ys}from"./MIUwXIKK.js";function Lo(n,t,e){Ge&&rs();var s=n,o=as,i,a=ts()?es:ns;ss(()=>{a(o,o=t())&&(i&&is(i),i=os(()=>e(s)))}),Ge&&(s=ls)}function Hs(n){return(ws||xs)+n}var Us=Ot("<title> </title>"),Zs=Ot('<svg><!><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2ZM14,21.5908l-5-5L10.5906,15,14,18.4092,21.41,11l1.5957,1.5859Z"></path><path fill="none" d="M14 21.591L9 16.591 10.591 15 14 18.409 21.41 11 23.005 12.585 14 21.591z" data-icon-path="inner-path"></path></svg>');function ko(n,t){const e=bt(t,["children","$$slots","$$events","$$legacy"]),s=bt(e,["size","title"]);ht(t,!1);const o=gt(),i=gt();let a=j(t,"size",8,16),r=j(t,"title",8,void 0);Ct(()=>(ft(e),ft(r())),()=>{rt(o,e["aria-label"]||e["aria-labelledby"]||r())}),Ct(()=>(g(o),ft(e)),()=>{rt(i,{"aria-hidden":g(o)?void 0:!0,role:g(o)?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})}),Se(),kt();var l=Zs();Qt(l,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...g(i),...s}));var d=Y(l);{var c=_=>{var h=Us(),u=Y(h,!0);H(h),ct(()=>X(u,r())),L(_,h)};te(d,_=>{r()&&_(c)})}Xt(2),H(l),L(n,l),dt()}var Vs=Ot("<title> </title>"),Gs=Ot('<svg><!><path fill="none" d="M14.9 7.2H17.1V24.799H14.9z" data-icon-path="inner-path" transform="rotate(-45 16 16)"></path><path d="M16,2A13.914,13.914,0,0,0,2,16,13.914,13.914,0,0,0,16,30,13.914,13.914,0,0,0,30,16,13.914,13.914,0,0,0,16,2Zm5.4449,21L9,10.5557,10.5557,9,23,21.4448Z"></path></svg>');function Io(n,t){const e=bt(t,["children","$$slots","$$events","$$legacy"]),s=bt(e,["size","title"]);ht(t,!1);const o=gt(),i=gt();let a=j(t,"size",8,16),r=j(t,"title",8,void 0);Ct(()=>(ft(e),ft(r())),()=>{rt(o,e["aria-label"]||e["aria-labelledby"]||r())}),Ct(()=>(g(o),ft(e)),()=>{rt(i,{"aria-hidden":g(o)?void 0:!0,role:g(o)?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})}),Se(),kt();var l=Gs();Qt(l,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...g(i),...s}));var d=Y(l);{var c=_=>{var h=Vs(),u=Y(h,!0);H(h),ct(()=>X(u,r())),L(_,h)};te(d,_=>{r()&&_(c)})}Xt(2),H(l),L(n,l),dt()}var Ws=mt("<button><span><!></span> <!></button>");function Sn(n,t){const e=bt(t,["children","$$slots","$$events","$$legacy"]),s=bt(e,["tooltipText","icon","disabled","align","direction","id","ref"]);ht(t,!1);let o=j(t,"tooltipText",8,""),i=j(t,"icon",8,void 0),a=j(t,"disabled",8,!1),r=j(t,"align",8,"center"),l=j(t,"direction",8,"bottom"),d=j(t,"id",24,()=>"ccs-"+Math.random().toString(36)),c=j(t,"ref",12,null),_=gt(!1);kt();var h=Ws();_t("keydown",cs,({key:p})=>{p==="Escape"&&rt(_,!0)}),Qt(h,p=>({disabled:a(),type:"button","aria-describedby":d(),...s,[ps]:p,[us]:{cursor:a()?"not-allowed":"default"}}),[()=>({"bx--tooltip__trigger":!0,"bx--tooltip--a11y":!0,"bx--tooltip--hidden":g(_)||a(),"bx--tooltip--top":l()==="top","bx--tooltip--right":l()==="right","bx--tooltip--bottom":l()==="bottom","bx--tooltip--left":l()==="left","bx--tooltip--align-start":r()==="start","bx--tooltip--align-center":r()==="center","bx--tooltip--align-end":r()==="end"})]);var u=Y(h);fs(u,1,"",null,{},{"bx--assistive-text":!0});var f=Y(u);We(f,t,"tooltipText",{},p=>{var y=hn();ct(()=>X(y,o())),L(p,y)}),H(u);var m=et(u,2);We(m,t,"default",{},p=>{var y=Ee(),x=Lt(y);js(x,i,(v,S)=>{S(v,{})}),L(p,y)}),H(h),fn(h,p=>c(p),()=>c()),ct(()=>ms(u,"id",d())),_t("click",h,function(p){It.call(this,t,p)}),_t("mouseover",h,function(p){It.call(this,t,p)}),_t("mouseenter",h,function(p){It.call(this,t,p)}),_t("mouseenter",h,()=>{a()||rt(_,!1)}),_t("mouseleave",h,function(p){It.call(this,t,p)}),_t("focus",h,function(p){It.call(this,t,p)}),_t("focus",h,()=>{a()||rt(_,!1)}),L(n,h),dt()}const Xe={type:"change"},Pe={type:"start"},En={type:"end"},Ut=new Ss,Qe=new Es,qs=Math.cos(70*mn.DEG2RAD),$=new b,K=2*Math.PI,E={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},he=1e-6;class Ks extends vs{constructor(t,e=null){super(t,e),this.state=E.NONE,this.target=new b,this.cursor=new b,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Rt.ROTATE,MIDDLE:Rt.DOLLY,RIGHT:Rt.PAN},this.touches={ONE:Dt.ROTATE,TWO:Dt.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new b,this._lastQuaternion=new qe,this._lastTargetPosition=new b,this._quat=new qe().setFromUnitVectors(t.up,new b(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new ge,this._sphericalDelta=new ge,this._scale=1,this._panOffset=new b,this._rotateStart=new Q,this._rotateEnd=new Q,this._rotateDelta=new Q,this._panStart=new Q,this._panEnd=new Q,this._panDelta=new Q,this._dollyStart=new Q,this._dollyEnd=new Q,this._dollyDelta=new Q,this._dollyDirection=new b,this._mouse=new Q,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Qs.bind(this),this._onPointerDown=Xs.bind(this),this._onPointerUp=Js.bind(this),this._onContextMenu=ai.bind(this),this._onMouseWheel=ni.bind(this),this._onKeyDown=si.bind(this),this._onTouchStart=ii.bind(this),this._onTouchMove=oi.bind(this),this._onMouseDown=ti.bind(this),this._onMouseMove=ei.bind(this),this._interceptControlDown=ri.bind(this),this._interceptControlUp=li.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(t){super.connect(t),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(t){t.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=t}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Xe),this.update(),this.state=E.NONE}update(t=null){const e=this.object.position;$.copy(e).sub(this.target),$.applyQuaternion(this._quat),this._spherical.setFromVector3($),this.autoRotate&&this.state===E.NONE&&this._rotateLeft(this._getAutoRotationAngle(t)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let s=this.minAzimuthAngle,o=this.maxAzimuthAngle;isFinite(s)&&isFinite(o)&&(s<-Math.PI?s+=K:s>Math.PI&&(s-=K),o<-Math.PI?o+=K:o>Math.PI&&(o-=K),s<=o?this._spherical.theta=Math.max(s,Math.min(o,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(s+o)/2?Math.max(s,this._spherical.theta):Math.min(o,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let i=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const a=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),i=a!=this._spherical.radius}if($.setFromSpherical(this._spherical),$.applyQuaternion(this._quatInverse),e.copy(this.target).add($),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let a=null;if(this.object.isPerspectiveCamera){const r=$.length();a=this._clampDistance(r*this._scale);const l=r-a;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),i=!!l}else if(this.object.isOrthographicCamera){const r=new b(this._mouse.x,this._mouse.y,0);r.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),i=l!==this.object.zoom;const d=new b(this._mouse.x,this._mouse.y,0);d.unproject(this.object),this.object.position.sub(d).add(r),this.object.updateMatrixWorld(),a=$.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;a!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(a).add(this.object.position):(Ut.origin.copy(this.object.position),Ut.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Ut.direction))<qs?this.object.lookAt(this.target):(Qe.setFromNormalAndCoplanarPoint(this.object.up,this.target),Ut.intersectPlane(Qe,this.target))))}else if(this.object.isOrthographicCamera){const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),a!==this.object.zoom&&(this.object.updateProjectionMatrix(),i=!0)}return this._scale=1,this._performCursorZoom=!1,i||this._lastPosition.distanceToSquared(this.object.position)>he||8*(1-this._lastQuaternion.dot(this.object.quaternion))>he||this._lastTargetPosition.distanceToSquared(this.target)>he?(this.dispatchEvent(Xe),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(t){return t!==null?K/60*this.autoRotateSpeed*t:K/60/60*this.autoRotateSpeed}_getZoomScale(t){const e=Math.abs(t*.01);return Math.pow(.95,this.zoomSpeed*e)}_rotateLeft(t){this._sphericalDelta.theta-=t}_rotateUp(t){this._sphericalDelta.phi-=t}_panLeft(t,e){$.setFromMatrixColumn(e,0),$.multiplyScalar(-t),this._panOffset.add($)}_panUp(t,e){this.screenSpacePanning===!0?$.setFromMatrixColumn(e,1):($.setFromMatrixColumn(e,0),$.crossVectors(this.object.up,$)),$.multiplyScalar(t),this._panOffset.add($)}_pan(t,e){const s=this.domElement;if(this.object.isPerspectiveCamera){const o=this.object.position;$.copy(o).sub(this.target);let i=$.length();i*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*t*i/s.clientHeight,this.object.matrix),this._panUp(2*e*i/s.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(t*(this.object.right-this.object.left)/this.object.zoom/s.clientWidth,this.object.matrix),this._panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/s.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(t,e){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const s=this.domElement.getBoundingClientRect(),o=t-s.left,i=e-s.top,a=s.width,r=s.height;this._mouse.x=o/a*2-1,this._mouse.y=-(i/r)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(t){return Math.max(this.minDistance,Math.min(this.maxDistance,t))}_handleMouseDownRotate(t){this._rotateStart.set(t.clientX,t.clientY)}_handleMouseDownDolly(t){this._updateZoomParameters(t.clientX,t.clientX),this._dollyStart.set(t.clientX,t.clientY)}_handleMouseDownPan(t){this._panStart.set(t.clientX,t.clientY)}_handleMouseMoveRotate(t){this._rotateEnd.set(t.clientX,t.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const e=this.domElement;this._rotateLeft(K*this._rotateDelta.x/e.clientHeight),this._rotateUp(K*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(t){this._dollyEnd.set(t.clientX,t.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(t){this._panEnd.set(t.clientX,t.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(t){this._updateZoomParameters(t.clientX,t.clientY),t.deltaY<0?this._dollyIn(this._getZoomScale(t.deltaY)):t.deltaY>0&&this._dollyOut(this._getZoomScale(t.deltaY)),this.update()}_handleKeyDown(t){let e=!1;switch(t.code){case this.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(K*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),e=!0;break;case this.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(-K*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),e=!0;break;case this.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(K*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),e=!0;break;case this.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(-K*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),e=!0;break}e&&(t.preventDefault(),this.update())}_handleTouchStartRotate(t){if(this._pointers.length===1)this._rotateStart.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),s=.5*(t.pageX+e.x),o=.5*(t.pageY+e.y);this._rotateStart.set(s,o)}}_handleTouchStartPan(t){if(this._pointers.length===1)this._panStart.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),s=.5*(t.pageX+e.x),o=.5*(t.pageY+e.y);this._panStart.set(s,o)}}_handleTouchStartDolly(t){const e=this._getSecondPointerPosition(t),s=t.pageX-e.x,o=t.pageY-e.y,i=Math.sqrt(s*s+o*o);this._dollyStart.set(0,i)}_handleTouchStartDollyPan(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enablePan&&this._handleTouchStartPan(t)}_handleTouchStartDollyRotate(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enableRotate&&this._handleTouchStartRotate(t)}_handleTouchMoveRotate(t){if(this._pointers.length==1)this._rotateEnd.set(t.pageX,t.pageY);else{const s=this._getSecondPointerPosition(t),o=.5*(t.pageX+s.x),i=.5*(t.pageY+s.y);this._rotateEnd.set(o,i)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const e=this.domElement;this._rotateLeft(K*this._rotateDelta.x/e.clientHeight),this._rotateUp(K*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(t){if(this._pointers.length===1)this._panEnd.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),s=.5*(t.pageX+e.x),o=.5*(t.pageY+e.y);this._panEnd.set(s,o)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(t){const e=this._getSecondPointerPosition(t),s=t.pageX-e.x,o=t.pageY-e.y,i=Math.sqrt(s*s+o*o);this._dollyEnd.set(0,i),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const a=(t.pageX+e.x)*.5,r=(t.pageY+e.y)*.5;this._updateZoomParameters(a,r)}_handleTouchMoveDollyPan(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enablePan&&this._handleTouchMovePan(t)}_handleTouchMoveDollyRotate(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enableRotate&&this._handleTouchMoveRotate(t)}_addPointer(t){this._pointers.push(t.pointerId)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId){this._pointers.splice(e,1);return}}_isTrackingPointer(t){for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return!0;return!1}_trackPointer(t){let e=this._pointerPositions[t.pointerId];e===void 0&&(e=new Q,this._pointerPositions[t.pointerId]=e),e.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){const e=t.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[e]}_customWheelEvent(t){const e=t.deltaMode,s={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(e){case 1:s.deltaY*=16;break;case 2:s.deltaY*=100;break}return t.ctrlKey&&!this._controlActive&&(s.deltaY*=10),s}}function Xs(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n)))}function Qs(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function Js(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(En),this.state=E.NONE;break;case 1:const t=this._pointers[0],e=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:e.x,pageY:e.y});break}}function ti(n){let t;switch(n.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Rt.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(n),this.state=E.DOLLY;break;case Rt.ROTATE:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=E.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=E.ROTATE}break;case Rt.PAN:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=E.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=E.PAN}break;default:this.state=E.NONE}this.state!==E.NONE&&this.dispatchEvent(Pe)}function ei(n){switch(this.state){case E.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(n);break;case E.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(n);break;case E.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(n);break}}function ni(n){this.enabled===!1||this.enableZoom===!1||this.state!==E.NONE||(n.preventDefault(),this.dispatchEvent(Pe),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(En))}function si(n){this.enabled!==!1&&this._handleKeyDown(n)}function ii(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case Dt.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(n),this.state=E.TOUCH_ROTATE;break;case Dt.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(n),this.state=E.TOUCH_PAN;break;default:this.state=E.NONE}break;case 2:switch(this.touches.TWO){case Dt.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(n),this.state=E.TOUCH_DOLLY_PAN;break;case Dt.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(n),this.state=E.TOUCH_DOLLY_ROTATE;break;default:this.state=E.NONE}break;default:this.state=E.NONE}this.state!==E.NONE&&this.dispatchEvent(Pe)}function oi(n){switch(this._trackPointer(n),this.state){case E.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(n),this.update();break;case E.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(n),this.update();break;case E.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(n),this.update();break;case E.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=E.NONE}}function ai(n){this.enabled!==!1&&n.preventDefault()}function ri(n){n.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function li(n){n.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}class ci extends Ts{constructor(t){super(t)}load(t,e,s,o){const i=this,a=new Ms(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(r){const l=i.parse(JSON.parse(r));e&&e(l)},s,o)}parse(t){return new hi(t)}}class hi{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,e=100){const s=[],o=di(t,e,this.data);for(let i=0,a=o.length;i<a;i++)s.push(...o[i].toShapes());return s}}function di(n,t,e){const s=Array.from(n),o=t/e.resolution,i=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*o,a=[];let r=0,l=0;for(let d=0;d<s.length;d++){const c=s[d];if(c===`
`)r=0,l-=i;else{const _=ui(c,o,r,l,e);r+=_.offsetX,a.push(_.path)}}return a}function ui(n,t,e,s,o){const i=o.glyphs[n]||o.glyphs["?"];if(!i){console.error('THREE.Font: character "'+n+'" does not exists in font family '+o.familyName+".");return}const a=new Ps;let r,l,d,c,_,h,u,f;if(i.o){const m=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let p=0,y=m.length;p<y;)switch(m[p++]){case"m":r=m[p++]*t+e,l=m[p++]*t+s,a.moveTo(r,l);break;case"l":r=m[p++]*t+e,l=m[p++]*t+s,a.lineTo(r,l);break;case"q":d=m[p++]*t+e,c=m[p++]*t+s,_=m[p++]*t+e,h=m[p++]*t+s,a.quadraticCurveTo(_,h,d,c);break;case"b":d=m[p++]*t+e,c=m[p++]*t+s,_=m[p++]*t+e,h=m[p++]*t+s,u=m[p++]*t+e,f=m[p++]*t+s,a.bezierCurveTo(_,h,u,f,d,c);break}}return{offsetX:i.ha*t,path:a}}class pi extends Me{constructor(t,e={}){const s=e.font;if(s===void 0)super();else{const o=s.generateShapes(t,e.size);e.depth===void 0&&(e.depth=50),e.bevelThickness===void 0&&(e.bevelThickness=10),e.bevelSize===void 0&&(e.bevelSize=8),e.bevelEnabled===void 0&&(e.bevelEnabled=!1),super(o,e)}this.type="TextGeometry"}}const Tn=[{diameter:200,type:2,t_1:8,n:[2,3,4]},{diameter:250,type:2,t_1:8,n:[2,3,4]},{diameter:300,type:3,t_1:8,n:[3,4,5,6]},{diameter:350,type:4,t_1:8,n:[3,4,5,6,7]},{diameter:400,type:5,t_1:12,n:[3,4,5,6]},{diameter:450,type:5,t_1:12,n:[3,4,5,6]},{diameter:500,type:6,t_1:12,n:[3,4,5,6,7]},{diameter:550,type:7,t_1:12,n:[4,5,6,7,8]},{diameter:600,type:8,t_1:12,n:[4,5,6,7,8,9]},{diameter:650,type:9,t_1:12,n:[4,5,6,7,8,9,10]},{diameter:700,type:10,t_1:16,n:[4,5,6,7,8,9]},{diameter:750,type:10,t_1:16,n:[4,5,6,7,8,9]},{diameter:850,type:11,t_1:16,n:[4,5,6,7,8,9,10]},{diameter:900,type:12,t_1:20,n:[4,5,6,7,8,9,10]}],ze=[{length:100,width:150,t_1:8,n:[2,3]},{length:100,width:200,t_1:8,n:[2,3]},{length:150,width:200,t_1:8,n:[2,3,4]},{length:150,width:250,t_1:8,n:[2,3,4]},{length:150,width:300,t_1:8,n:[2,3,4]},{length:200,width:250,t_1:8,n:[3,4,5,6]},{length:200,width:300,t_1:8,n:[3,4,5,6]},{length:200,width:350,t_1:8,n:[3,4,5,6]},{length:200,width:400,t_1:8,n:[3,4,5,6]},{length:250,width:300,t_1:8,n:[3,4,5,6,7]},{length:250,width:400,t_1:8,n:[3,4,5,6,7]},{length:300,width:400,t_1:12,n:[3,4,5,6]},{length:300,width:500,t_1:12,n:[3,4,5,6]},{length:300,width:600,t_1:12,n:[3,4,5,6]},{length:350,width:450,t_1:12,n:[3,4,5,6,7]},{length:400,width:500,t_1:12,n:[4,5,6,7,8]},{length:400,width:600,t_1:12,n:[4,5,6,7,8]},{length:450,width:600,t_1:12,n:[4,5,6,7,8,9]},{length:500,width:600,t_1:12,n:[4,5,6,7,8,9,10]},{length:600,width:600,t_1:16,n:[4,5,6,7,8,9]},{length:600,width:700,t_1:16,n:[4,5,6,7,8,9]},{length:800,width:800,t_1:20,n:[4,5,6,7,8,9,10]},{length:900,width:900,t_1:20,n:[4,5,6,7,8,9,10,11]}];function fi(n,t){const e=ze.find(s=>s.length===n&&s.width===t);return e?e.n.map(s=>({t_1:e.t_1,n:s})):[]}function mi(n){const t=Tn.find(e=>e.diameter===n);return t?t.n.map(e=>({t_1:t.t_1,n:e})):[]}function _i(){const n={calculationResult:null},{subscribe:t,set:e,update:s}=Jt(n),o={subscribe:t,set:i=>{e(i)},update:i=>{s(i)},reset:()=>{e(n)},setCalculationResult:i=>{o.update(a=>({...a,calculationResult:i}))},clearCalculationResult:()=>{o.update(i=>({...i,calculationResult:null}))},getCalculationSuccess:()=>{let i=null;if(t(l=>{i=l.calculationResult})(),!i)return!1;const r=i;return r.VerformungUnterDruckSuccess&&r.VerformungUnterSchubSuccess&&r.VerformungWinkelverdrehungSuccess&&r.SummeDerTeilverformungenSuccess&&r.VerdrehungsgrenzbedingungSuccess&&r.MindestpressungLagertypBSuccess&&r.GleitnachweisSuccess&&r.StabilitaetSuccess},areAllSuccessFlagsTrue:()=>{let i=null;if(t(l=>{i=l.calculationResult})(),!i)return!1;const r=i;return r.VerformungUnterDruckSuccess&&r.VerformungUnterSchubSuccess&&r.VerformungWinkelverdrehungSuccess&&r.SummeDerTeilverformungenSuccess&&r.VerdrehungsgrenzbedingungSuccess&&r.MindestpressungLagertypBSuccess&&r.GleitnachweisSuccess&&r.StabilitaetSuccess}};return o}const Mn=_i();function gi(n,t,e){for(let s=0;s<t.length-1;s++)if(n>=t[s]&&n<=t[s+1]){const o=(n-t[s])/(t[s+1]-t[s]);return e[s]+o*(e[s+1]-e[s])}return n<t[0]?e[0]:e[e.length-1]}function bi(n){const t=n.t_1,e=n.n,s=n.gg,o=n.ee_b,i=n.is_round,a=n.a,r=n.b,l=n.d,d=n.is_ztv_ing,c=n.is_typ_b,_=n.is_typ_c,h=n.ff_zd1,u=n.v_x1,f=n.v_y1,m=n.alpha_b1,p=n.alpha_a1,y=n.ff_zd2,x=n.v_x2,v=n.v_y2,S=n.alpha_b2,k=n.alpha_a2;if(c&&_)throw new Error("Lager cannot be both Typ B and Typ C");const O=2.5,M=Math.max(Math.abs(h),Math.abs(y)),V=Math.max(Math.abs(u),Math.abs(x)),nt=Math.max(Math.abs(f),Math.abs(v)),w=t*e,I=w+2*O;let G,U,Z,W,B,D,N,tt=0,St=0,ot=0;if(i){if(!l)throw new Error("Diameter (d) is required for round bearings");G=Math.round(Math.PI*l**2/4),tt=l-10,U=Math.round(Math.PI*tt**2/4),Z=Math.round(U*(1-Math.sqrt(V**2+nt**2)/tt)),W=Math.round(tt/(4*t)*100)/100,B=Math.round(tt/(4*O)*100)/100,D=0,N=0}else{if(!a||!r)throw new Error("Length (a) and width (b) are required for rectangular bearings");G=a*r,D=a-10,N=r-10,U=D*N,Z=Math.round(U*(1-V/D-nt/N)),ot=2*(D+N),W=Math.round(U/(ot*t)*100)/100,B=Math.round(U/(ot*O)*100)/100;const P=[.5,.75,1,1.2,1.25,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.5,10],yt=[137,100,86.2,80.4,79.3,78.4,76.7,75.3,74.1,73.1,72.2,71.5,70.8,68.3,61.9];St=Math.round(gi(r/a,P,yt)*10)/10}const Ce=235,Ae=1.3,oe=3,On=1,Oe=Math.round(1e3*(Ae*M*(t*2)*1/(Z*Ce))*10)/10,Le=Math.max(t>12?5:t>8?4:3,Oe),Ln=I+(e-1)*Le,ke=[],at=(P,yt,Et)=>{(P[yt]===null||Et>P[yt])&&(P[yt]=Et)},T={epsi_cd:null,epsi_qd:null,epsi_ad:null,epsi_td:null,verdreh_nachw:null,stab_nachw:null,rr_x:null,rr_y:null,mm:null};c&&(T.sigma_cdmin=null,T.nachw_gleit=null);const Ie=e*t**3,kn=[{ff_zd:h,v_x:u,v_y:f,alpha_b:m,alpha_a:p},{ff_zd:y,v_x:x,v_y:v,alpha_b:S,alpha_a:k}];for(const P of kn){const yt=Math.sqrt(P.v_x**2+P.v_y**2),Et=Math.sqrt(P.alpha_a**2+P.alpha_b**2),He=Math.round(1.5*P.ff_zd*1e3/(s*Z*W)*1e3)/1e3,Ue=Math.round(yt/I*1e3)/1e3;let Yt;i?Yt=Math.round(Et*tt**2*t/(2*Ie*1e3)*1e3)/1e3:Yt=Math.round((P.alpha_b*D**2+P.alpha_a*N**2)*t/(2*Ie*1e3)*1e3)/1e3;const Yn=Math.round((He+Ue+Yt)*1e3)/1e3;at(T,"epsi_cd",He),at(T,"epsi_qd",Ue),at(T,"epsi_ad",Yt),at(T,"epsi_td",Yn);const Ze=Math.round(G*s*P.v_x/(w*1e3)*100)/100,Ve=Math.round(G*s*P.v_y/(w*1e3)*100)/100;let ae;i?ae=Math.round(s*Et*Math.PI*tt**6/(512*e*t**3*1e3**3)*100)/100:ae=Math.round(s*Et*D**5*N/(e*t**3*St*1e3**3)*100)/100,at(T,"rr_x",Ze),at(T,"rr_y",Ve),at(T,"mm",ae);let Ht=1e3*P.ff_zd/U;d&&_&&Ht<3&&(Ht=3);const Hn=Ht*t*(1/(5*s*W**2)+1/o),Un=Ht*O*(1/(5*s*B**2)+1/o),Zn=Math.round((Un+e*Hn)*1e3)/1e3;let re;i?re=Math.round(tt*Math.sqrt(P.alpha_b**2+P.alpha_a**2)/(oe*1e3)*1e3)/1e3:re=Math.round((D*P.alpha_b+N*P.alpha_a)/(oe*1e3)*1e3)/1e3;const Vn=Math.round(re/Zn*1e3)/1e3;at(T,"verdreh_nachw",Vn);const Gn=Math.round(1e3*P.ff_zd/Z*1e3)/1e3;let le;i?le=Math.round(2*tt*s*W/(3*w)*1e3)/1e3:le=Math.round(2*D*s*W/(3*w)*1e3)/1e3;const Wn=Math.round(Gn/le*1e3)/1e3;if(at(T,"stab_nachw",Wn),c){const ce=Math.round(P.ff_zd*1e3/Z*100)/100;(T.sigma_cdmin===null||T.sigma_cdmin>ce)&&(T.sigma_cdmin=ce);const qn=.1+1.5*.2/ce,Kn=Math.sqrt(Ze**2+Ve**2),Xn=Math.round(Kn/(P.ff_zd*qn)*1e3)/1e3;at(T,"nachw_gleit",Xn)}}const In=T.epsi_cd??0,$e=T.epsi_qd??0,$n=T.epsi_ad??0,Be=T.epsi_td??0,Ne=T.verdreh_nachw??0,Fe=T.stab_nachw??0,Bn=T.rr_x??0,Nn=T.rr_y??0,Fn=T.mm??0,je=T.sigma_cdmin??0,Ye=T.nachw_gleit??0,jn={epsi_cd:In,epsi_qd:$e,epsi_ad:$n,epsi_td:Be,verdreh_nachw:Ne,sigma_cdmin:je,nachw_gleit:Ye,stab_nachw:Fe,rr_x:Bn,rr_y:Nn,t_smin:Oe,mm:Fn,VerformungUnterDruckSuccess:!0,VerformungUnterSchubSuccess:$e<=1,VerformungWinkelverdrehungSuccess:!0,SummeDerTeilverformungenSuccess:Be<=7,VerdrehungsgrenzbedingungSuccess:Ne<=1,MindestpressungLagertypBSuccess:!c||je>=3,GleitnachweisSuccess:!c||Ye<=1,StabilitaetSuccess:Fe<=1,t_2:O,tt_e:w,tt_q:I,tt_b:Ln,aa:G,a_str:D,b_str:N,d_str:tt,aa_str:U,aa_r:Z,ss_1:W,t_s:Le,gg:s,ee_b:o,f_y:Ce,kk_p:Ae,kk_rd:oe,kk_l:On,kk_s:St};return ke.push(jn),ke}let R;function Pn(n){R=n||Te(J);const t={is_round:R.isRound,a:R.a,b:R.b,d:R.d,t_1:R.t_1,n:R.n,gg:R.gg_d,ee_b:R.ee_b,is_ztv_ing:R.VorgabenZTVING,is_typ_b:R.l_typ==="B",is_typ_c:R.l_typ==="C",ff_zd1:R.ff_zd1,ff_zd2:R.ff_zd2,v_x1:R.v_x1,v_x2:R.v_x2,v_y1:R.v_y1,v_y2:R.v_y2,alpha_b1:R.alpha_b1,alpha_b2:R.alpha_b2,alpha_a1:R.alpha_a1,alpha_a2:R.alpha_a2},e=bi(t);Mn.setCalculationResult(e[0]||null)}const Je=Jt(!1);function $t(n,t={}){const{width:e=50,height:s=50,depth:o=50,position:i={x:0,y:0,z:0},color:a=4886754,widthSegments:r=1,heightSegments:l=1,depthSegments:d=1}=t,c=new _n(e,s,o,r,l,d),_=new ie({color:a,shininess:100,specular:2236962}),h=new F(c,_);return h.position.set(i.x,i.y,i.z),h.castShadow=!0,h.receiveShadow=!0,n.add(h),h}function Bt(n,t={}){const{radius:e=25,height:s=50,position:o={x:0,y:0,z:0},color:i=4886754,radialSegments:a=32,heightSegments:r=1}=t,l=new zs(e,e,s,a,r),d=new ie({color:i,shininess:100,specular:2236962}),c=new F(l,d);return c.position.set(o.x,o.y,o.z),c.castShadow=!0,c.receiveShadow=!0,n.add(c),c}function de(n,t={}){const{width:e=50,height:s=50,depth:o=50,extrudeDepth:i=20,position:a={x:0,y:0,z:0},color:r=4886754}=t,l=new gn,d=e/2,c=s/2;l.moveTo(-d,-c),l.lineTo(d,-c),l.lineTo(d,c),l.lineTo(-d,c),l.lineTo(-d,-c);const _={depth:i,bevelEnabled:!1,steps:1,curveSegments:1},h=new Me(l,_);h.computeBoundingBox();const u=h.boundingBox,f=new b;u.getCenter(f),h.translate(-f.x,-f.y,-f.z);const m=new ie({color:r,shininess:100,specular:2236962}),p=new F(h,m);return p.position.set(a.x,a.y,a.z),p.castShadow=!0,p.receiveShadow=!0,n.add(p),p}function tn(n){n.geometry.computeBoundingBox(),n.updateMatrixWorld(!0);const t=new jt().setFromObject(n),e=new b;t.getCenter(e);const s=new b(e.x,t.max.y,e.z),o=new b(e.x,t.min.y,e.z);return{mesh:n,boundingBox:t.clone(),centerPoint:e.clone(),upperPoint:s.clone(),lowerPoint:o.clone()}}function ue(n,t){const e=tn(t),s=tn(n),o=e.upperPoint,i=s.centerPoint.y-s.lowerPoint.y,a=o.y+i;n.position.y=a}function yi(n,t){n.remove(t),t.geometry.dispose(),t.material instanceof ut&&t.material.dispose()}let pe=null,Tt=null;const Zt=11765,wi=.03,xi=2e-4;async function zn(){return pe||Tt||(Tt=new Promise((n,t)=>{new ci().load("https://threejs.org/examples/fonts/helvetiker_bold.typeface.json",s=>{pe=s,Tt=null,n(s)},void 0,s=>{Tt=null,t(s)})}),Tt)}function ye(n,t,e){return new pi(n,{font:t,size:e,depth:xi,curveSegments:12,bevelEnabled:!0,bevelThickness:3e-4,bevelSize:2e-4,bevelOffset:0,bevelSegments:3})}function we(n){n.computeBoundingBox();const t=n.boundingBox;if(t){const e=-(t.max.x-t.min.x)/2,s=-(t.max.y-t.min.y)/2;n.translate(e,s,0)}}function xe(n){return new bn({color:n,metalness:.3,roughness:.4})}function vi(n,t,e,s,o,i=.05,a){const r=new b(-s.z,0,s.x).normalize(),l=new wt().setFromPoints([new b(t.x-r.x*i/2,t.y,t.z-r.z*i/2),new b(t.x+r.x*i/2,t.y,t.z+r.z*i/2)]),d=new it(l,o);n.add(d),a.push(d);const c=new wt().setFromPoints([new b(e.x-r.x*i/2,e.y,e.z-r.z*i/2),new b(e.x+r.x*i/2,e.y,e.z+r.z*i/2)]),_=new it(c,o);n.add(_),a.push(_)}function Si(n,t){return t.forEach(e=>{n.remove(e),e instanceof F&&(e.geometry&&e.geometry.dispose(),e.material instanceof ut&&e.material.dispose()),e instanceof it&&(e.geometry&&e.geometry.dispose(),e.material instanceof ut&&e.material.dispose()),e instanceof Ds&&e.material instanceof ut&&e.material.dispose()}),[]}function Ei(n,t){return t.forEach(e=>{n.remove(e),e instanceof F&&(e.geometry&&e.geometry.dispose(),e.material instanceof ut&&e.material.dispose()),e instanceof it&&(e.geometry&&e.geometry.dispose(),e.material instanceof ut&&e.material.dispose()),e instanceof be&&(e.line&&e.line.geometry&&e.line.geometry.dispose(),e.line&&e.line.material instanceof ut&&e.line.material.dispose(),e.cone&&e.cone.geometry&&e.cone.geometry.dispose(),e.cone&&e.cone.material instanceof ut&&e.cone.material.dispose())}),[]}function Ti(n,t){return[[n.min.x,t,n.min.z],[n.max.x,t,n.min.z],[n.min.x,t,n.max.z],[n.max.x,t,n.max.z]]}let lt=[],st=[];const vt=new Map,Mt=new Map;function Mi(){return[...lt,...st]}function en(n){st.forEach(t=>{if(t instanceof F&&vt.has(t)){const e=vt.get(t),s=n?-Math.PI:0;t.rotation.z=e+s}})}function nn(n){const t=Ci();lt.forEach(e=>{if(n)if(e instanceof it&&e.geometry){const s=e.geometry.attributes.position;if(s){if(!Mt.has(e)){const o=[];for(let i=0;i<s.count;i++)o.push(s.getY(i));Mt.set(e,o)}for(let o=0;o<s.count;o++)s.setY(o,t);s.needsUpdate=!0}}else e instanceof F&&e.position&&(Mt.has(e)||Mt.set(e,[e.position.y]),e.position.y=t+.001);else{const s=Mt.get(e);if(s)if(e instanceof it&&e.geometry){const o=e.geometry.attributes.position;if(o&&s.length===o.count){for(let i=0;i<o.count;i++)o.setY(i,s[i]);o.needsUpdate=!0}}else e instanceof F&&e.position&&s.length>0&&(e.position.y=s[0])}}),n||Mt.clear()}const ve=wi;async function fe(n,t,e,s,o,i=0,a=0){try{const r=await zn(),l=ye(o,r,ve);we(l);const d=xe(16711680),c=new F(l,d),_=new b(e[0]-t[0],0,e[2]-t[2]).normalize(),h=new b(-_.z,0,_.x),u=(t[0]+e[0])/2+i+h.x*s,f=(t[2]+e[2])/2+a+h.z*s;c.position.set(u,t[1]+.001,f),c.rotation.x=-Math.PI/2;const m=Math.atan2(_.z,_.x)+Math.PI;c.rotation.z=m,vt.set(c,m),n.add(c),lt.push(c)}catch(r){console.error("Failed to load font for 3D text:",r)}}function me(n,t,e,s,o,i=.05){vi(n,t,e,s,o,i,lt)}function Dn(n){lt.forEach(t=>{t instanceof F&&vt.delete(t)}),lt=Si(n,lt)}function Pi(n){st.forEach(t=>{t instanceof F&&vt.delete(t)}),st=Ei(n,st)}async function zi(n,t=new b(0,0,0)){const i=new yn({color:new wn(Zt)}),a=Zt,r=new b(t.x+.2,t.y,t.z),l=new wt().setFromPoints([t,r]),d=new it(l,i);n.add(d),st.push(d);const c=new b(1,0,0),_=new be(c,r,.1,a,.1*.5,.1*.3);n.add(_),st.push(_);const h=new b(t.x,t.y,t.z+.2),u=new wt().setFromPoints([t,h]),f=new it(u,i);n.add(f),st.push(f);const m=new b(0,0,1),p=new be(m,h,.1,a,.1*.5,.1*.3);n.add(p),st.push(p);try{const y=await zn(),x=ye(z("bridgeBearing.scene.axisLabel.x"),y,ve);we(x);const v=xe(Zt),S=new F(x,v);S.position.set(t.x+.2*1.2+.03,t.y+.001,t.z+.05),S.rotation.x=-Math.PI/2,S.rotation.z=Math.PI,vt.set(S,Math.PI),n.add(S),st.push(S);const k=ye("y",y,ve);we(k);const O=xe(Zt),M=new F(k,O);M.position.set(t.x+.05,t.y+.001,t.z+.2*1.2),M.rotation.x=-Math.PI/2,M.rotation.z=Math.PI,vt.set(M,Math.PI),n.add(M),st.push(M)}catch(y){console.error("Failed to create 3D text for coordinate system:",y)}}async function Di(n,t,e,s=0,o=0,i=!1){Dn(n);const a=Ti(t,e+.01);if(!a||a.length<2)return;const r=a[3],l=a[1],d=a[2],c=new yn({color:16711680}),_=Te(J);if(i){let h=r,u=l,f=.1+s/2,m=0,p=new wt().setFromPoints([new b(h[0]+f,h[1],h[2]+m),new b(u[0]+f,u[1],u[2]+m)]);const y=new it(p,c);n.add(y),lt.push(y);const x=new b(h[0]+f,h[1],h[2]+m),v=new b(u[0]+f,u[1],u[2]+m),S=new b().subVectors(v,x).normalize();me(n,x,v,S,c);const k=_.d;await fe(n,h,u,-.03,`d = ${k} mm`,f,m)}else{let h=r,u=l,f=.1+s/2,m=0,p=new wt().setFromPoints([new b(h[0]+f,h[1],h[2]+m),new b(u[0]+f,u[1],u[2]+m)]);const y=new it(p,c);n.add(y),lt.push(y);const x=new b(h[0]+f,h[1],h[2]+m),v=new b(u[0]+f,u[1],u[2]+m),S=new b().subVectors(v,x).normalize();me(n,x,v,S,c);const k=_.a,O=_.b;await fe(n,h,u,-.03,`b = ${O} mm`,f,m),h=r,u=d,f=0,m=.1+o/2,p=new wt().setFromPoints([new b(h[0]+f,h[1],h[2]+m),new b(u[0]+f,u[1],u[2]+m)]);const M=new it(p,c);n.add(M),lt.push(M);const V=new b(h[0]+f,h[1],h[2]+m),nt=new b(u[0]+f,u[1],u[2]+m),w=new b().subVectors(nt,V).normalize();me(n,V,nt,w,c),await fe(n,h,u,.03,`a = ${k} mm`,f,m)}}let pt=new b(0,0,0),xt=[];function Ri(n,t=[0,0,0]){const s=n.isRound,o=n.laengeElastomer*.001,i=n.diameter*.001,a=n.schichtdicke*n.anzahlSchichten*.001,r=s?i:o,l=r*.5,d=r*.1,c=l+l*.08+d+a+d,_=t[0],h=t[1]+c/2,u=t[2],f=new b(_,h,u);return console.log("calculateElastomerCenter called (predicted from params):",{params:{a:n.laengeElastomer,b:n.breiteElastomer,n:n.anzahlSchichten,t_1:n.schichtdicke},calculations:{referenceDim:r,plinthHeight:l,baseHeight:d,layerThickness:a,totalHeight:c},groundPosition:t,center:{x:f.x,y:f.y,z:f.z}}),f}function Ci(){return xt.length>3&&xt[3]?xt[3].position.y:0}function sn(n){xt.length!==0&&xt.forEach((t,e)=>{const s=t.material;e===3?(s.transparent=!1,s.opacity=1):n?e>3&&(s.visible=!1):(s.transparent=!1,s.visible=!0,s.opacity=1),s.needsUpdate=!0})}class Ai{constructor(t,e){q(this,"scene");q(this,"currentElastomerObjects",[]);q(this,"camera");this.scene=t,this.camera=e}createElastomer(t,e=[0,0,0]){var St;const s=[],i=t.isRound,a=t.laengeElastomer*.001,r=t.breiteElastomer*.001,l=t.diameter*.001,_=(((St=Te(Mn).calculationResult)==null?void 0:St.tt_e)??t.schichtdicke*t.anzahlSchichten)*.001,h=i?l:a,u=h*.5,f=h*.1,m=e[1]+u/2,p=h*.4;let y;i?y=Bt(this.scene,{radius:(l+p)/2,height:u,position:{x:e[0],y:m,z:e[2]},color:16116681}):y=$t(this.scene,{width:a+p,height:u,depth:r+p,position:{x:e[0],y:m,z:e[2]},color:16116681}),s.push(y);const x=new jt().setFromObject(y);let v;i?v=Bt(this.scene,{radius:(l+p*.9)/2,height:u*.08,position:{x:e[0],y:0,z:e[2]},color:16116681}):v=$t(this.scene,{width:a+p*.9,height:u*.08,depth:r+p*.9,position:{x:e[0],y:0,z:e[2]},color:16116681}),s.push(v);const S=h*.2;let k;i?k=Bt(this.scene,{radius:(l+S)/2,height:f,position:{x:e[0],y:0,z:e[2]},color:12895428}):k=$t(this.scene,{width:a+S,height:f,depth:r+S,position:{x:e[0],y:0,z:e[2]},color:12895428}),s.push(k);const O=2894892,M=_;let V;i?V=Bt(this.scene,{radius:l/2,height:M,position:{x:e[0],y:0,z:e[2]},color:O}):V=$t(this.scene,{width:a,height:M,depth:r,position:{x:e[0],y:0,z:e[2]},color:O}),s.push(V);const nt=new jt().setFromObject(V),w=x.getSize(new b),I=nt.getSize(new b),G=w.x-I.x,U=w.z-I.z;let Z;i?Z=Bt(this.scene,{radius:(l+S)/2,height:f,position:{x:e[0],y:0,z:e[2]},color:12895428}):Z=$t(this.scene,{width:a+S,height:f,depth:r+S,position:{x:e[0],y:0,z:e[2]},color:12895428}),s.push(Z);for(let ot=1;ot<s.length;ot++)ue(s[ot],s[ot-1]);const W=new jt;s.forEach(ot=>W.expandByObject(ot)),pt=W.getCenter(new b),console.log("Elastomer center calculated (from actual geometry):",{x:pt.x,y:pt.y,z:pt.z}),this.currentElastomerObjects=s,xt=s,Di(this.scene,nt,e[1],G,U,i);let B,D,N;D=.01,i?(B=-t.diameter*.001*1.15/2-.18,N=-(t.diameter*.001*1.15)/2-.2):(B=-t.laengeElastomer*.001*1.18/2-.18,N=-(t.breiteElastomer*.001*1.18)/2-.2);const tt=new b(e[0]+B,e[1]+D,e[2]+N);return zi(this.scene,tt),s}removeCurrentElastomer(){this.currentElastomerObjects.forEach(t=>{yi(this.scene,t)}),this.currentElastomerObjects=[],xt=[],Dn(this.scene),Pi(this.scene)}updateElastomer(t,e=[0,0,0]){return this.removeCurrentElastomer(),this.createElastomer(t,e)}createDemoScene(t){this.createElastomer(t)}createSecondStack(t=100){const e=de(this.scene,{width:50,height:50,extrudeDepth:20,position:{x:t,y:0,z:0},color:5294200}),s=de(this.scene,{width:35,height:35,extrudeDepth:15,color:16753920}),o=de(this.scene,{width:25,height:25,extrudeDepth:12,color:9662683});return ue(s,e),ue(o,s),{base:e,middle:s,top:o}}focusCameraOnElastomer(){}}const Oi=15e4;class Li{constructor(t){q(this,"config");q(this,"isAnimating",!0);q(this,"spherical");q(this,"cameraOffset");q(this,"isTransitioning",!1);q(this,"transitionStartTime",0);q(this,"transitionDuration",2e4);q(this,"transitionStartPosition",null);q(this,"transitionStartTarget",null);q(this,"transitionTargetPosition",null);this.config=t,this.spherical=new ge,this.cameraOffset=new b}updateConfig(t){this.config={...this.config,...t}}getConfig(){return{...this.config}}start(){this.isAnimating||(this.isTransitioning=!0,this.transitionStartTime=0),this.isAnimating=!0}stop(){this.isAnimating=!1,this.isTransitioning=!1}setTransitionDuration(t){this.transitionDuration=t}isActive(){return this.isAnimating}animate(t,e,s){if(!this.isAnimating||!e)return;const o=t/Oi%2;let i=o<=1?o:2-o;i=(i+.5)%1;const a=mn.lerp(this.config.azimuthStart,this.config.azimuthEnd,i);this.spherical.set(this.config.radius,this.config.polarAngle,a),this.cameraOffset.setFromSpherical(this.spherical);const r=this.cameraOffset.clone().add(this.config.focusPoint);if(this.isTransitioning){this.transitionStartTime===0&&(this.transitionStartTime=t,this.transitionStartPosition=e.position.clone(),this.transitionStartTarget=s.target.clone(),this.transitionTargetPosition=r.clone());const l=t-this.transitionStartTime;if(l<this.transitionDuration){const d=l/this.transitionDuration,c=d*d*(3-2*d);e.position.lerpVectors(this.transitionStartPosition,r,c),s.target.lerpVectors(this.transitionStartTarget,this.config.focusPoint,c),s.update();return}else this.isTransitioning=!1,this.transitionStartTime=0,this.transitionStartPosition=null,this.transitionStartTarget=null,this.transitionTargetPosition=null}e.position.copy(r),s.target.copy(this.config.focusPoint),s.update()}}function ki(n,t){const e=()=>{t.stop()},s=()=>{t.start()};return n.addEventListener("mouseenter",e),n.addEventListener("mouseleave",s),()=>{n.removeEventListener("mouseenter",e),n.removeEventListener("mouseleave",s)}}let Rn=new Q,Vt,Gt=null,Wt=null,Pt=!1,Nt=0,zt=null,C=null;function Ii(n){if(!n)return 3.5;const t=2.5,e=n.isRound?n.d:n.a,s=(e*1.5+300)/1e3;return console.log("Camera radius calculation (Brueckenlager) - isRound:",n.isRound,"dimension:",e,"(a:"+n.a+", d:"+n.d+")","scaleFactor:",s),t*s}function De(n){const t={radius:3.5,polarAngle:Math.PI/4,azimuthStart:0,azimuthEnd:Math.PI,focusPoint:pt};C=new Li({...t,...n})}function $i(n){if(console.log("regenerateCameraConfiguration (Brueckenlager) called with params:",n),C||(console.log("Automatic camera not initialized, initializing now"),De()),C&&n){const t=Ii(n),e={selectedHeight:n.heightOfElastomer??84.5,anzahlSchichten:n.n??6,schichtdicke:n.t_1??12,laengeElastomer:n.a??350,breiteElastomer:n.b??450,isRound:n.isRound??!1,diameter:n.d??400},s=[.3,.6,0],o=Ri(e,s);console.log("=== Camera Focus Point Update (Brueckenlager) ===",{radius:t,focusPoint:{x:o.x,y:o.y,z:o.z},groundPosition:s,elastomerParams:{a:e.laengeElastomer,b:e.breiteElastomer,n:e.anzahlSchichten,t_1:e.schichtdicke,isRound:e.isRound,d:e.diameter}}),C.updateConfig({radius:t,focusPoint:o})}}function Bi(n){const t=n.target.getBoundingClientRect(),e=n.clientX-t.left,s=n.clientY-t.top,o=e/n.target.clientWidth*2-1,i=-(s/n.target.clientHeight)*2+1;return new Q(o,i)}function Ni(n,t,e){if(!n||!t)return;const s=Rn,o=new b(s.x,s.y,1);o.unproject(n),o.sub(n.position),o.normalize();const a=n.position.distanceTo(t.target)*(1-e),r=o.clone().multiplyScalar(a);n.position.add(r),t.target.add(r),t.update()}function Fi(n=35){return new xn(n,1,.01,1e3)}function ji(n,t,e){const s=new Ks(n,t.domElement);return s.target.set(e[0],e[1],e[2]),s.minDistance=.1,s.maxDistance=1e3,s.enableZoom=!1,s.update(),s}function Yi(n,t,e){const s=o=>{o.preventDefault(),Rn.copy(Bi(o));let i=1;switch(o.deltaMode){case 2:i=1+o.deltaY*.025;break;case 1:i=1+o.deltaY*.01;break;default:i=1+o.deltaY*25e-5;break}Ni(t,e,i)};return n.domElement.addEventListener("wheel",s,{passive:!1}),()=>{n.domElement.removeEventListener("wheel",s)}}function Hi(n,t,e){const s=()=>void 0;return n.addEventListener("mousemove",s),n.addEventListener("mousedown",s),n.addEventListener("wheel",s),Vt=setInterval(()=>void 0,100),()=>{n.removeEventListener("mousemove",s),n.removeEventListener("mousedown",s),n.removeEventListener("wheel",s),Vt&&(clearInterval(Vt),Vt=void 0)}}function Ui(n,t,e=.002){n.update()}function Zi(n,t,e){if(t&&(!Pt&&on(t)?(en(!0),sn(!0),nn(!0)):Pt||(en(!1),sn(!1),nn(!1)),C||De(),!!(C!=null&&C.isActive()))){if(Pt){Nt===0&&(Nt=n,Gt=t.position.clone(),Wt=e.target.clone(),zt=Gi());const o=n-Nt;if(!Gt||!zt||!Wt){console.error("Top view positions not initialized properly"),Pt=!1;return}if(o<1e3){const i=o/1e3,a=i*i*(3-2*i);t.position.lerpVectors(Gt,zt,a),e.target.lerpVectors(Wt,pt,a),t.lookAt(e.target),e.update()}else t.position.copy(zt),e.target.copy(pt),t.lookAt(e.target),e.update(),Pt=!1,Nt=0,Gt=null,Wt=null,zt=null,C==null||C.stop();return}if(on(t)){C==null||C.stop();return}C&&C.animate(n,t,e)}}function Vi(n){return C||De(),C?ki(n,C):()=>{}}function on(n,t){const e=pt,s=n.position,o=.01;return Math.abs(s.x-e.x)<o&&Math.abs(s.z-e.z)<o}function Gi(){const n=pt,t=Mi();if(t.length===0)return new b(n.x,n.y+3,n.z);let e=.5;const s=30;let o=0;const i=new xn(35,1,.01,1e3);for(;o<s;){i.position.set(n.x,n.y+e,n.z),i.lookAt(n),i.updateMatrixWorld(),i.updateProjectionMatrix();const a=new Rs,r=new Cs;r.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),a.setFromProjectionMatrix(r);let l=!0;for(const d of t){d.updateMatrixWorld(!0);const c=new jt().setFromObject(d);if(!a.intersectsBox(c)){l=!1;break}}if(l){e*=1.1;break}e*=1.2,o++}return new b(n.x,n.y+e,n.z)}function Cn(){Pt=!0,Nt=0,zt=null,C==null||C.start()}let qt=null;function an(n){qt=n}const Wi=84.5,Ft={isRound:!1,a:350,b:450,d:400,heightOfElastomer:Wi,ff_zd1:3e3,ff_zd2:1e3,v_x1:10,v_x2:5,v_y1:0,v_y2:0,alpha_b1:15,alpha_b2:10,alpha_a1:3,alpha_a2:3,n:6,t_1:12,gg_d:.9,ee_b:2e3,l_typ:"B",VorgabenZTVING:!1};let Kt=null;function qi(){Kt=Re(Ft);const{subscribe:n,set:t,update:e}=Jt(Ft),s={subscribe:n,set:o=>{t(o),_e(o)},update:o=>{e(i=>{const a=o(i);return _e(a),a})},reset:()=>{t(Ft),_e(Ft)},updateField:(o,i)=>{s.update(a=>({...a,[o]:i}))}};return s}const J=qi();Pn();function Ki(n,t){return n.lagertyp===t.lagertyp&&n.selectedCombination===t.selectedCombination&&n.selectedHeight===t.selectedHeight&&n.anzahlSchichten===t.anzahlSchichten&&n.schichtdicke===t.schichtdicke&&n.laengeElastomer===t.laengeElastomer&&n.breiteElastomer===t.breiteElastomer&&n.isRound===t.isRound&&n.diameter===t.diameter}function Re(n){const t=ze.findIndex(e=>e.length===n.a&&e.width===n.b);return{lagertyp:"B",selectedCombination:t>=0?t:0,selectedHeight:n.heightOfElastomer,anzahlSchichten:n.n,schichtdicke:n.t_1,laengeElastomer:n.a,breiteElastomer:n.b,isRound:n.isRound,diameter:n.d}}function _e(n){console.log("Parameter changed callback (Brueckenlager) - a:",n.a,"b:",n.b),Je.set(!0);const t=Re(n);Pn(n),setTimeout(()=>{Je.set(!1)},300),$i(n),(!Kt||!Ki(t,Kt))&&(Kt={...t},qt&&setTimeout(()=>{qt&&qt(t)},10))}function Xi(){return ze.map(n=>({length:n.length,width:n.width}))}var Qi=mt("<!> <!>",1);function $o(n,t){ht(t,!0);const[e,s]=ee();let i=A(()=>ne(J,"$parameterStore",e));function a(d){var h;const _=(d.detail||((h=d.target)==null?void 0:h.value))==="rund";J.updateField("isRound",_)}const r=A(()=>z("bridgeBearing.bearingShape")),l=A(()=>g(i).isRound?"rund":"rechteckig");se(n,{get labelText(){return g(r)},get selected(){return g(l)},light:!0,$$events:{change:a},children:(d,c)=>{var _=Qi(),h=Lt(_);const u=A(()=>z("bridgeBearing.rectangular"));At(h,{value:"rechteckig",get text(){return g(u)}});var f=et(h,2);const m=A(()=>z("bridgeBearing.round"));At(f,{value:"rund",get text(){return g(m)}}),L(d,_)},$$slots:{default:!0}}),dt(),s()}function Bo(n,t){ht(t,!0);const[e,s]=ee();let i=A(()=>ne(J,"$parameterStore",e)),a=A(Xi),r=A(()=>Tn.map(u=>u.diameter)),l=A(()=>g(i).isRound?g(r).findIndex(u=>u===g(i).d):g(a).findIndex(u=>u.length===g(i).a&&u.width===g(i).b)),d=A(()=>g(i).isRound?g(r).map((u,f)=>({value:f,label:`${u} mm`})):g(a).map((u,f)=>({value:f,label:`${u.length} mm x ${u.width} mm`})));function c(u){var m;const f=parseInt(((m=u.target)==null?void 0:m.value)||u.detail);if(g(i).isRound){const p=g(r)[f];p&&J.updateField("d",p)}else{const p=g(a)[f];p&&(J.updateField("a",p.length),J.updateField("b",p.width))}}const _=A(()=>g(i).isRound?z("bridgeBearing.dimensionsDiameter"):z("bridgeBearing.dimensionsLengthWidth")),h=A(()=>g(l).toString());se(n,{get labelText(){return g(_)},get selected(){return g(h)},light:!0,$$events:{change:c},children:(u,f)=>{var m=Ee(),p=Lt(m);un(p,17,()=>g(d),pn,(y,x)=>{const v=A(()=>g(x).value.toString());At(y,{get value(){return g(v)},get text(){return g(x).label}})}),L(u,m)},$$slots:{default:!0}}),dt(),s()}function No(n,t){ht(t,!0);const[e,s]=ee();let i=A(()=>ne(J,"$parameterStore",e)),a=A(()=>g(i).isRound?mi(g(i).d).map(c=>({value:`${c.n}-${c.t_1}`,label:`${z("bridgeBearing.layerCount")} ${c.n}, ${z("bridgeBearing.layerHeight")} ${c.t_1}mm`,n:c.n,t_1:c.t_1})):fi(g(i).a,g(i).b).map(c=>({value:`${c.n}-${c.t_1}`,label:`${z("bridgeBearing.layerCount")} ${c.n}, ${z("bridgeBearing.layerHeight")} ${c.t_1}mm`,n:c.n,t_1:c.t_1})));hs(()=>{const c=`${g(i).n}-${g(i).t_1}`;if(!g(a).some(h=>h.value===c)&&g(a).length>0){const h=g(a)[0];J.update(u=>({...u,n:h.n,t_1:h.t_1}))}});function r(c){var p;const _=((p=c.target)==null?void 0:p.value)||c.detail,[h,u]=_.split("-"),f=parseInt(h),m=parseFloat(u);J.update(y=>({...y,n:f,t_1:m}))}const l=A(()=>z("bridgeBearing.elastomerLayers")),d=A(()=>`${g(i).n}-${g(i).t_1}`);se(n,{get labelText(){return g(l)},get selected(){return g(d)},light:!0,$$events:{change:r},children:(c,_)=>{var h=Ee(),u=Lt(h);un(u,17,()=>g(a),pn,(f,m)=>{const p=A(()=>g(m).value.toString());At(f,{get value(){return g(p)},get text(){return g(m).label}})}),L(c,h)},$$slots:{default:!0}}),dt(),s()}var Ji=Ot("<title> </title>"),to=Ot('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function An(n,t){const e=bt(t,["children","$$slots","$$events","$$legacy"]),s=bt(e,["size","title"]);ht(t,!1);const o=gt(),i=gt();let a=j(t,"size",8,16),r=j(t,"title",8,void 0);Ct(()=>(ft(e),ft(r())),()=>{rt(o,e["aria-label"]||e["aria-labelledby"]||r())}),Ct(()=>(g(o),ft(e)),()=>{rt(i,{"aria-hidden":g(o)?void 0:!0,role:g(o)?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})}),Se(),kt();var l=to();Qt(l,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:a(),height:a(),...g(i),...s}));var d=Y(l);{var c=_=>{var h=Ji(),u=Y(h,!0);H(h),ct(()=>X(u,r())),L(_,h)};te(d,_=>{r()&&_(c)})}Xt(2),H(l),L(n,l),dt()}var eo=mt('<span slot="tooltipText"> <br/> <br/> <br/> <br/> <br/> <br/> </span>'),no=mt("<!> <!>",1),so=mt('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t"> </span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function Fo(n,t){ht(t,!0);const[e,s]=ee();let i=A(()=>ne(J,"$parameterStore",e));function a(f){var y;const p=(f.detail||((y=f.target)==null?void 0:y.value))==="Typ C"?"C":"B";J.updateField("l_typ",p)}var r=so(),l=Y(r),d=Y(l),c=Y(d,!0);H(d);var _=et(d,2);Sn(_,{get icon(){return An},$$slots:{tooltipText:(f,m)=>{var p=eo(),y=Y(p,!0),x=et(y,4),v=et(x,4),S=et(v,4);H(p),ct((k,O,M,V)=>{X(y,k),X(x,` ${O??""}`),X(v,` ${M??""}`),X(S,` ${V??""}`)},[()=>z("bridgeBearing.typeBTooltip"),()=>z("bridgeBearing.typeCTooltip"),()=>z("bridgeBearing.typeCRequired"),()=>z("bridgeBearing.typeB_DBRestriction")]),L(f,p)}}}),H(l);var h=et(l,4);const u=A(()=>g(i).l_typ==="C"?"Typ C":"Typ B");se(h,{labelText:"",get selected(){return g(u)},light:!0,$$events:{change:a},children:(f,m)=>{var p=no(),y=Lt(p);const x=A(()=>z("bridgeBearing.typeB"));At(y,{value:"Typ B",get text(){return g(x)}});var v=et(y,2);const S=A(()=>z("bridgeBearing.typeC"));At(v,{value:"Typ C",get text(){return g(S)}}),L(f,p)},$$slots:{default:!0}}),H(r),ct(f=>X(c,f),[()=>z("bridgeBearing.bearingType")]),L(n,r),dt(),s()}function io(n,t=14211288){const e=new vn,o=new As().load(Hs("/texture/concrete1.jpg"));o.wrapS=Ke,o.wrapT=Ke,o.repeat.set(1,1),o.colorSpace=Os;const i=new bn({map:o,color:t,metalness:.1,roughness:.8}),l=(n.isRound?n.diameter||400:n.breiteElastomer)/1e3*2+.5,d=l,c=2,_=l,h=.05,u=16,f=new gn;f.moveTo(0,0),f.lineTo(d,0),f.lineTo(d,c),f.lineTo(h*2,c),f.absarc(h,c,h,0,Math.PI,!0),f.lineTo(0,0);const m={depth:_,bevelEnabled:!1,curveSegments:u},p=new Me(f,m),y=new F(p,i);y.position.set(.3-d/2,-.4-c/2,-_/2),e.add(y);const x=.3,v=2.5,S=_,k=new _n(x,v,S),O=new F(k,i),M=.3-d/2-x/2;return O.position.set(M,-.15,0),e.add(O),e}function oo(){const n=new Ls;return n.background=new wn(10526880),n.fog=new ks(10526880,10,500),n}function ao(n){const t=new Is({antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=$s,t.localClippingEnabled=!0,n.appendChild(t.domElement),t}function ro(n,t=-10){const e=new F(new Bs(1e3,1e3),new ie({color:13355979,depthWrite:!1}));e.rotation.x=-Math.PI/2,e.position.y=t,e.receiveShadow=!0,n.add(e)}function lo(n,t,e,s,o,i){const a=new Fs(o,i);a.position.set(t,e,s),a.castShadow=!0;const r=50;return a.shadow.camera.left=-50,a.shadow.camera.right=r,a.shadow.camera.top=r,a.shadow.camera.bottom=-50,a.shadow.camera.near=1,a.shadow.camera.far=1e3,a.shadow.mapSize.width=4096,a.shadow.mapSize.height=4096,a.shadow.radius=2,a.shadow.bias=-5e-4,n.add(a),n.add(a.target),a}function co(n,t={x:0,y:500,z:0}){return n.add(new Ns(9272444,4802918,5)),lo(n,t.x,t.y,t.z,16777215,2)}function ho(n){n.setAnimationLoop(null)}function uo(n){ro(n,-20)}function po(n){co(n,{x:0,y:500,z:0})}let rn=[];function ln(n){rn.forEach(t=>{n.remove(t),t.geometry.dispose(),t.material instanceof ut&&t.material.dispose()}),rn=[]}var fo=mt('<span slot="tooltipText"><strong> </strong><br/> <br/> <br/> </span>'),mo=mt('<div class="tooltip-container svelte-17njmpp"><!></div>');function _o(n,t){ht(t,!1);let e=j(t,"rightOffset",8,150);kt();var s=mo(),o=Y(s);Sn(o,{get icon(){return An},direction:"left",$$slots:{tooltipText:(i,a)=>{var r=fo(),l=Y(r),d=Y(l,!0);H(l);var c=et(l,2),_=et(c,2),h=et(_,2);H(r),ct((u,f,m,p)=>{X(d,u),X(c,`  ${f??""}`),X(_,`  ${m??""}`),X(h,`  ${p??""}`)},[()=>z("bridgeBearing.scene.tooltip.title"),()=>z("bridgeBearing.scene.tooltip.rotate"),()=>z("bridgeBearing.scene.tooltip.zoom"),()=>z("bridgeBearing.scene.tooltip.pan")],dn),L(i,r)}}}),H(s),ct(()=>_s(s,`right: ${e()??""}px;`)),L(n,s),dt()}function go(){const{subscribe:n,set:t,update:e}=Jt({renderer:null,camera:null,controls:null,scene:null,reloadTrigger:0});return{subscribe:n,setScene:s=>{e(o=>({...o,...s}))},reset:()=>{e(s=>({renderer:null,camera:null,controls:null,scene:null,reloadTrigger:s.reloadTrigger}))},reload:()=>{e(s=>({...s,reloadTrigger:s.reloadTrigger+1}))},captureScreenshot:async(s=!1)=>new Promise((o,i)=>{const a={renderer:null,camera:null,controls:null,scene:null,reloadTrigger:0};if(n(d=>{a.renderer=d.renderer,a.camera=d.camera,a.controls=d.controls,a.scene=d.scene,a.reloadTrigger=d.reloadTrigger})(),!a.renderer||!a.camera||!a.scene){i(new Error("Scene not initialized"));return}const l=()=>{if(!a.renderer||!a.camera||!a.scene){i(new Error("Scene not initialized"));return}a.renderer.render(a.scene,a.camera);const d=a.renderer.domElement.toDataURL("image/png");o(d)};s?(Cn(),setTimeout(l,1200)):l()})}}const cn=go();var bo=mt('<!> <div class="top-view-button-container svelte-51mmbc"><!></div>',1),yo=mt('<div id="container" class="svelte-51mmbc"><!></div>');function jo(n,t){ht(t,!1);let e=j(t,"parameters",8,void 0),s=j(t,"autoRotate",8,!1),o=j(t,"showTooltip",8,!0);const i=[.3,.6,0],a=new b(3.033053660420776,2.3737696385820284,-.9540866817375618);let r=gt(),l,d,c,_,h,u,f,m,p,y,x,v;function S(){return Re(Ft)}function k(w){m&&(l.remove(m),m.traverse(I=>{I instanceof F&&(I.geometry.dispose(),Array.isArray(I.material)?I.material.forEach(G=>G.dispose()):I.material.dispose())}),m=void 0),m=io({breiteElastomer:w.breiteElastomer,isRound:w.isRound,diameter:w.diameter}),l.add(m)}function O(w){if(!h||!u){console.warn("CreateElastomer or elastomerGroup not initialized");return}u.clear(),h.updateElastomer(w,i).forEach(G=>{u.add(G)}),ln(l),k(w)}gs(async()=>{l=oo(),c=ao(g(r)),uo(l),po(l),d=Fi(35),d.position.copy(a),_=ji(d,c,i),cn.setScene({renderer:c,camera:d,controls:_,scene:l}),p=Yi(c,d,_),y=Hi(g(r),_,s()),x=Vi(g(r)),h=new Ai(l,d),u=new vn,l.add(u);const w=e()||S();h.createElastomer(w,i).forEach(B=>{u.add(B)}),k(w);const U=1e3/30;let Z=0;const W=B=>{v=requestAnimationFrame(W);const D=B-Z;D<U||(Z=B-D%U,Zi(B,d,_),Ui(_),c.render(l,d))};if(W(0),an(O),await ds(),g(r)&&g(r)instanceof Element){let B=!1;f=new ResizeObserver(()=>{g(r)&&c&&d&&!B&&(B=!0,requestAnimationFrame(()=>{if(g(r)&&c&&d){const D=g(r).clientWidth,N=g(r).clientHeight;c.setSize(D,N),d.aspect=D/N,d.updateProjectionMatrix()}B=!1}))}),f.observe(g(r))}}),bs(()=>{cn.reset(),v!==void 0&&cancelAnimationFrame(v),c&&ho(c),p==null||p(),y==null||y(),x==null||x(),ln(l),m&&(l.remove(m),m.traverse(w=>{w instanceof F&&(w.geometry.dispose(),Array.isArray(w.material)?w.material.forEach(I=>I.dispose()):w.material.dispose())}),m=void 0),c==null||c.dispose(),an(()=>{}),f==null||f.disconnect()}),kt();var M=yo(),V=Y(M);{var nt=w=>{var I=bo(),G=Lt(I);_o(G,{});var U=et(G,2),Z=Y(U);Ys(Z,{size:"small",kind:"secondary",$$events:{click:()=>Cn()},children:(W,B)=>{Xt();var D=hn();ct(N=>X(D,N),[()=>z("bridgeBearing.scene.topView")],dn),L(W,D)},$$slots:{default:!0}}),H(U),L(w,I)};te(V,w=>{o()&&w(nt)})}return H(M),fn(M,w=>rt(r,w),()=>g(r)),L(n,M),ys(t,"updateElastomer",O),dt({updateElastomer:O})}export{Li as A,$o as B,ko as C,Io as E,An as I,jo as T,Bo as a,No as b,Fo as c,Sn as d,Je as i,Lo as k,J as p,Mn as r,cn as s};
