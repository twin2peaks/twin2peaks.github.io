import"./CWj6FrbW.js";import{a as Ve,C as We,b as x,s as d}from"./BnBsQ0Ec.js";import{o as Xe,w as Oe,g as Ye,c as Ze,a as $e,s as I}from"./DjOT-GKG.js";import{o as et,z as P,A as tt,f as w,D as h,t as m,e as c,v as at,s as C,G as ne,w as n,C as O,K as B,B as y,L as H,F as g,x as oe,J as lt,g as nt}from"./xhVCQ2rC.js";import{l as Be,p as l,i as L,a as ot,b as it}from"./CgmtfOra.js";import{a as rt,s as ie,e as st,i as dt}from"./uGN1DfQo.js";import{e as u}from"./DDx_huEc.js";import{b as J}from"./8LoQyTB9.js";import{b as q,C as pe}from"./MDy5gHoB.js";import{B as re}from"./DLPeJaAa.js";const se=new Set,Le=Oe(0),Ce=()=>Le.set([...se].filter(f=>Ye(f)).length),ct=f=>Xe(()=>{se.add(f);const a=f.subscribe(Ce);return()=>{a(),se.delete(f),Ce()}});Le.subscribe(f=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",f>0)});var ut=w('<button type="button"><!></button>'),bt=w("<h2><!></h2>"),mt=w('<button type="button"><!></button>'),ft=w("<div></div>"),vt=w("<div><!> <!></div>"),_t=w('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>');function St(f,a){const N=Be(a,["children","$$slots","$$events","$$legacy"]),Me=Be(N,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"]);et(a,!1);const[xt,Se]=ot(),R=O(),U=O(),Q=O(),V=O();let W=l(a,"size",8,void 0),s=l(a,"open",12,!1),de=l(a,"danger",8,!1),ce=l(a,"alert",8,!1),M=l(a,"passiveModal",8,!1),X=l(a,"modalHeading",8,void 0),D=l(a,"modalLabel",8,void 0),ue=l(a,"modalAriaLabel",8,void 0),be=l(a,"iconDescription",8,"Close the modal"),we=l(a,"hasForm",8,!1),T=l(a,"hasScrollingContent",8,!1),De=l(a,"primaryButtonText",8,""),me=l(a,"primaryButtonDisabled",8,!1),Te=l(a,"primaryButtonIcon",8,void 0),ze=l(a,"shouldSubmitOnEnter",8,!0),Y=l(a,"secondaryButtonText",8,""),Z=l(a,"secondaryButtons",24,()=>[]),Ae=l(a,"selectorPrimaryFocus",8,"[data-modal-primary-focus]"),Ee=l(a,"preventCloseOnClickOutside",8,!1),p=l(a,"id",24,()=>"ccs-"+Math.random().toString(36)),$=l(a,"ref",12,null);const v=Ze();let z=O(null),ee=O(null),te=!1,ae=O(!1);function Fe(e){(n(ee).querySelector(Ae())||n(z)).focus()}const fe=Oe(s());ct(fe),$e(()=>{te?s()||(te=!1,v("close")):s()&&(te=!0,Fe(),v("open"))}),P(()=>B(s()),()=>{it(fe,s())}),P(()=>B(p()),()=>{y(R,`bx--modal-header__label--modal-${p()}`)}),P(()=>B(p()),()=>{y(U,`bx--modal-header__heading--modal-${p()}`)}),P(()=>B(p()),()=>{y(Q,`bx--modal-body--${p()}`)}),P(()=>(B(D()),B(N),B(ue()),B(X())),()=>{y(V,D()||N["aria-label"]||ue()||X())}),tt(),rt();var i=_t();Ve(i,e=>({role:"presentation",id:p(),...Me,[We]:e}),[()=>({"bx--modal":!0,"bx--modal-tall":!M(),"is-visible":s(),"bx--modal--danger":de()})]);var k=h(i);let ve;var K=h(k);x(K,1,"",null,{},{"bx--modal-header":!0});var _e=h(K);{var Ie=e=>{var t=ut();x(t,1,"",null,{},{"bx--modal-close":!0});var r=h(t);pe(r,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),g(t),J(t,o=>y(z,o),()=>n(z)),m(()=>d(t,"aria-label",be())),u("click",t,()=>{s(!1)}),c(e,t)};L(_e,e=>{M()&&e(Ie)})}var xe=C(_e,2);{var Pe=e=>{var t=bt();x(t,1,"",null,{},{"bx--modal-header__label":!0});var r=h(t);ie(r,a,"label",{},o=>{var j=H();m(()=>I(j,D())),c(o,j)}),g(t),m(()=>d(t,"id",n(R))),c(e,t)};L(xe,e=>{D()&&e(Pe)})}var A=C(xe,2);x(A,1,"",null,{},{"bx--modal-header__heading":!0});var He=h(A);ie(He,a,"heading",{},e=>{var t=H();m(()=>I(t,X())),c(e,t)}),g(A);var qe=C(A,2);{var Ke=e=>{var t=mt();x(t,1,"",null,{},{"bx--modal-close":!0});var r=h(t);pe(r,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),g(t),J(t,o=>y(z,o),()=>n(z)),m(()=>d(t,"aria-label",be())),u("click",t,()=>{s(!1)}),c(e,t)};L(qe,e=>{M()||e(Ke)})}g(K);var _=C(K,2);let he;var je=h(_);ie(je,a,"default",{},null),g(_);var ye=C(_,2);{var Ge=e=>{var t=ft();x(t,1,"",null,{},{"bx--modal-content--overflow-indicator":!0}),c(e,t)};L(ye,e=>{T()&&e(Ge)})}var Je=C(ye,2);{var Ne=e=>{var t=vt();let r;var o=h(t);{var j=b=>{var E=lt(),S=nt(E);st(S,1,Z,dt,(F,G)=>{re(F,{kind:"secondary",$$events:{click:()=>{v("click:button--secondary",{text:n(G).text})}},children:(ge,le)=>{oe();var ke=H();m(()=>I(ke,n(G).text)),c(ge,ke)},$$slots:{default:!0}})}),c(b,E)},Re=(b,E)=>{{var S=F=>{re(F,{kind:"secondary",$$events:{click:()=>{v("click:button--secondary",{text:Y()})}},children:(G,ge)=>{oe();var le=H();m(()=>I(le,Y())),c(G,le)},$$slots:{default:!0}})};L(b,F=>{Y()&&F(S)},E)}};L(o,b=>{Z().length>0?b(j):b(Re,!1)})}var Ue=C(o,2);const Qe=ne(()=>de()?"danger":"primary");re(Ue,{get kind(){return n(Qe)},get disabled(){return me()},get icon(){return Te()},$$events:{click:()=>{v("submit"),v("click:button--primary")}},children:(b,E)=>{oe();var S=H();m(()=>I(S,De())),c(b,S)},$$slots:{default:!0}}),g(t),m(b=>r=x(t,1,"",null,r,b),[()=>({"bx--modal-footer":!0,"bx--modal-footer--three-button":Z().length===2})],ne),c(e,t)};L(Je,e=>{M()||e(Ne)})}g(k),J(k,e=>y(ee,e),()=>n(ee)),g(i),J(i,e=>$(e),()=>$()),m((e,t)=>{d(k,"role",ce()?M()?"alert":"alertdialog":"dialog"),d(k,"aria-describedby",ce()&&!M()?n(Q):void 0),d(k,"aria-label",n(V)),ve=x(k,1,"",null,ve,e),d(A,"id",n(U)),d(_,"id",n(Q)),d(_,"tabindex",T()?"0":void 0),d(_,"role",T()?"region":void 0),d(_,"aria-label",T()?n(V):void 0),d(_,"aria-labelledby",D()?n(R):n(U)),he=x(_,1,"",null,he,t)},[()=>({"bx--modal-container":!0,"bx--modal-container--xs":W()==="xs","bx--modal-container--sm":W()==="sm","bx--modal-container--lg":W()==="lg"}),()=>({"bx--modal-content":!0,"bx--modal-content--with-form":we(),"bx--modal-scroll-content":T()})],ne),u("click",k,()=>{y(ae,!0)}),u("keydown",i,function(e){q.call(this,a,e)}),u("keydown",i,e=>{if(s())if(e.key==="Escape")s(!1);else if(e.key==="Tab"){const r=Array.from($().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`));let o=r.indexOf(document.activeElement);o===-1&&e.shiftKey&&(o=0),o+=r.length+(e.shiftKey?-1:1),o%=r.length,r[o].focus(),e.preventDefault()}else ze()&&e.key==="Enter"&&!me()&&(v("submit"),v("click:button--primary"))}),u("click",i,function(e){q.call(this,a,e)}),u("click",i,()=>{!n(ae)&&!Ee()&&s(!1),y(ae,!1)}),u("mouseover",i,function(e){q.call(this,a,e)}),u("mouseenter",i,function(e){q.call(this,a,e)}),u("mouseleave",i,function(e){q.call(this,a,e)}),u("transitionend",i,e=>{e.propertyName==="transform"&&v("transitionend",{open:s()})}),c(f,i),at(),Se()}export{St as M};
