import"./CWj6FrbW.js";import"./guWAzMQv.js";import{o as ae}from"./92BxO-YI.js";import{p as ne,f as re,a as K,w as oe,k as u,m as le,i as ce,J as he,b as fe}from"./B17SWd1h.js";import{b as de}from"./D84R_cOR.js";import{i as ue,s as pe}from"./CJm_Zloh.js";import{M as me,O as ge,B as X,F as H,S as q,U as we,V as I,W as xe,H as _e,N as Ce,C as ve,a as Y,L as Se,b as ye,c as m,d as be,R as ze,e as Me,P as Pe,f as Re,g as T,h as V,E as N,i as Ae,j as Ee,Q as Le}from"./B3HL1xbT.js";import{p as D}from"./CbBjHLQM.js";import{a as Be}from"./DwUZ0vKa.js";const ke={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class L{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Te=new ge(-1,1,1,-1,0,1);class De extends X{constructor(){super(),this.setAttribute("position",new H([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new H([0,2,0,0,2,0],2))}}const Fe=new De;class Oe{constructor(e){this._mesh=new me(Fe,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Te)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Qe extends L{constructor(e,t="tDiffuse"){super(),this.textureID=t,this.uniforms=null,this.material=null,e instanceof q?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=we.clone(e.uniforms),this.material=new q({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new Oe(this.material)}render(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class j extends L{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,r){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let c,g;this.inverse?(c=0,g=1):(c=1,g=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,c,4294967295),s.buffers.stencil.setClear(g),s.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class Ue extends L{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class We{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const r=e.getSize(new I);this._width=r.width,this._height=r.height,t=new xe(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:_e}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Qe(ke),this.copyPass.material.blending=Ce,this.clock=new ve}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let r=!1;for(let o=0,s=this.passes.length;o<s;o++){const c=this.passes[o];if(c.enabled!==!1){if(c.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),c.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),c.needsSwap){if(r){const g=this.renderer.getContext(),S=this.renderer.state.buffers.stencil;S.setFunc(g.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),S.setFunc(g.EQUAL,1,4294967295)}this.swapBuffers()}j!==void 0&&(c instanceof j?r=!0:c instanceof Ue&&(r=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new I);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const r=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(r,o),this.renderTarget2.setSize(r,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(r,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Ge extends L{constructor(e,t,r=null,o=null,s=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Y}render(e,t,r){const o=e.autoClear;e.autoClear=!1;let s,c;this.overrideMaterial!==null&&(c=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=c),e.autoClear=o}}var He=re('<div class="animation-container svelte-1lrzhea"></div>');function Ze(C,e){ne(e,!1);let t=le(),r,o,s,c,g,S;const J=1,Z=new Se,B=0;Z.set(J),new ye({color:"black"});let x=[],A=[],f=[];const F=5;let O=[],E=[],k=[],M=new m(0,0,0),Q=Date.now()*.001;function $(l){const n=l/2,a=[new m(-2.5,-2.5,n),new m(n,-2.5,n),new m(n,n,n),new m(-2.5,n,n),new m(-2.5,-2.5,-2.5),new m(n,-2.5,-2.5),new m(n,n,-2.5),new m(-2.5,n,-2.5)];return[[a[0],a[1]],[a[1],a[2]],[a[2],a[3]],[a[3],a[0]],[a[4],a[5]],[a[5],a[6]],[a[6],a[7]],[a[7],a[4]],[a[0],a[4]],[a[1],a[5]],[a[2],a[6]],[a[3],a[7]]]}function ee(){o.traverse(te),o.children.length=0,new T({color:B});const l=new V(5,5,5);new N(l),x=$(5);for(let i=0;i<x.length;i++){const d=new X().setFromPoints(x[i]),h=new T({color:B}),_=new Ae(d,h);o.add(_)}const n=.15,a=new V(n,n,n),w=new T({color:B}),p=new N(a);for(let i=0;i<F;i++){const d=Math.random(),h=Math.floor(d*(x.length-1));E[i]=x[h][0],k[i]=x[h][1],O[i]=Math.random()*.1+.05;const _=E[i].x,y=E[i].y,b=E[i].z;f[i*3]=_,f[i*3+1]=y,f[i*3+2]=b;const z=new Ee(p.clone(),w);z.position.set(_,y,b),o.add(z),A.push(z)}U()}function te(l){if(l.material){const n=l;Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose()}}function U(){c.render()}function se(l,n,a){const w=n[0]-l.x,p=n[1]-l.y,i=n[2]-l.z,d=new Le;d.setFromAxisAngle(new m(0,1,0),.1*a);let h=new m(w,p,i);return h.applyQuaternion(d),h.x=l.x+h.x,h.y=l.y+h.y,h.z=l.z+h.z,h}function ie(l,n){const a=n.x-l.x,w=n.y-l.y,p=n.z-l.z;return Math.sqrt(a*a+w*w+p*p)}function W(){const l=Date.now()*.001;let n=l-Q;Math.abs(n)>1&&(n=0),Q=l;const a=[s.position.x,s.position.y,s.position.z],w=se(M,a,n);s.position.set(w.x,w.y,w.z),s.lookAt(M);for(let i=0;i<F;i++){f[i*3]=A[i].position.x,f[i*3+1]=A[i].position.y,f[i*3+2]=A[i].position.z;const d=new m(f[i*3],f[i*3+1],f[i*3+2]),h=k[i],_=new m(h.x,h.y,h.z),y=d;let b=.2*O[i];try{var p=ie(d,_)}catch{p=0}if(b>=p){b=p;const P=[];for(let v=0;v<x.length;v++)x[v][0].equals(h)&&P.push(x[v]),x[v][1].equals(h)&&P.push([x[v][1],x[v][0]]);if(P.length>0){const v=Math.floor(Math.random()*P.length),R=P[v];k[i]=R[1],f[i*3]=R[0].x,f[i*3+1]=R[0].y,f[i*3+2]=R[0].z}}const z=Math.sqrt((_.x-y.x)**2+(_.y-y.y)**2+(_.z-y.z)**2);if(z!==0){const P=(_.x-y.x)/z,v=(_.y-y.y)/z,R=(_.z-y.z)/z;f[i*3]=d.x+P*b,f[i*3+1]=d.y+v*b,f[i*3+2]=d.z+R*b,A[i].position.set(f[i*3],f[i*3+1],f[i*3+2])}}g=requestAnimationFrame(W),U()}ae(()=>{if(!u(t).clientWidth||!u(t).clientHeight){console.warn("Animation container has no dimensions");return}r=new be({antialias:!0}),r.setPixelRatio(window.devicePixelRatio),r.setSize(u(t).clientWidth,u(t).clientHeight),r.toneMapping=ze,u(t).appendChild(r.domElement),o=new Me,o.background=new Y(16119285),s=new Pe(40,u(t).clientWidth/u(t).clientHeight,1,200),M=new Re().setFromObject(o).getCenter(new m);const n=10,a=1.1;s.position.x=M.x-n*a,s.position.y=M.y,s.position.z=M.z,s.lookAt(M);const w=new Ge(o,s);if(c=new We(r),c.addPass(w),ee(),W(),u(t)&&u(t)instanceof Element){let p=!1;S=new ResizeObserver(()=>{u(t)&&r&&s&&c&&!p&&(p=!0,requestAnimationFrame(()=>{if(u(t)&&r&&s&&c){const i=u(t).clientWidth,d=u(t).clientHeight;r.setSize(i,d),s.aspect=i/d,s.updateProjectionMatrix(),c.setSize(i,d)}p=!1}))}),S.observe(u(t))}return()=>{g&&cancelAnimationFrame(g),S==null||S.disconnect(),r.dispose(),c.dispose()}}),ue();var G=He();de(G,l=>ce(t,l),()=>u(t)),K(C,G),oe()}function $e(C,e){let t=D(e,"id",8,""),r=D(e,"background",8,"white"),o=D(e,"padding",8,"normal");Be(C,{get id(){return t()},get class(){return`section section--${r()??""} section--${o()??""}`},children:(s,c)=>{var g=he(),S=fe(g);pe(S,e,"default",{},null),K(s,g)},$$slots:{default:!0}})}export{Ze as A,$e as S};
