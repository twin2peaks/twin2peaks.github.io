import"../chunks/NZTpNUN0.js";import"../chunks/B5VGIsYh.js";import{onMount as C}from"../chunks/Cer8UJUK.js";import{p as J,f as _,t as w,a as d,c as M,s,d as i,e,m as u,g as n,r as m,b as y}from"../chunks/BEXH6p5h.js";import{s as S}from"../chunks/wgqK-KDM.js";import{i as U}from"../chunks/C8iV7vsU.js";import{e as v}from"../chunks/G-lfHyjD.js";import{i as j}from"../chunks/Dsd_qQAe.js";import{a as b,f as q,s as z,b as B}from"../chunks/C7TRjw5S.js";var G=_("<p> </p> <button>Logout</button>",1),H=_("<p>Not logged in</p> <button>Login as Test User</button>",1),K=_('<div style="padding: 2rem;"><h1>Firestore Test</h1> <div style="margin-bottom: 1rem;"><!></div> <button>Write to Firestore</button> <p> </p></div>');function ot(k,x){J(x,!1);let g=0,a=u(""),l=u(!1),h=u("");const D="test@test.de",I="test@test.de";C(()=>{b.onAuthStateChanged(t=>{e(l,!!t),e(h,t?.email||"")})});async function T(){try{e(a,"Logging in..."),await B(b,D,I),e(a,"Logged in!")}catch(t){e(a,`Login failed: ${t}`)}}async function W(){try{await z(b),e(a,"Logged out")}catch(t){e(a,`Logout failed: ${t}`)}}async function E(){g++;const t={counter:g,message:`Test write #${g}`,timestamp:new Date().toISOString()};e(a,"Writing..."),await q.setItem("testData",t),e(a,`Written: ${JSON.stringify(t)}`)}j();var p=K(),c=s(i(p),2),F=i(c);{var O=t=>{var o=G(),r=y(o),N=i(r);m(r);var P=s(r,2);w(()=>S(N,`Logged in as: ${n(h)??""}`)),v("click",P,W),d(t,o)},$=t=>{var o=H(),r=s(y(o),2);v("click",r,T),d(t,o)};U(F,t=>{n(l)?t(O):t($,!1)})}m(c);var f=s(c,2),L=s(f,2),A=i(L,!0);m(L),m(p),w(()=>{f.disabled=!n(l),S(A,n(a))}),v("click",f,E),d(k,p),M()}export{ot as component};
