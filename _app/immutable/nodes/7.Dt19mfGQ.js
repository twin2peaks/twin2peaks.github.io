import"../chunks/CWj6FrbW.js";import"../chunks/iBRvWY17.js";import{onMount as C}from"../chunks/eCWUrYma.js";import{p as J,f as _,t as w,a as d,c as M,s as r,d as s,e as a,m as v,g as n,r as m,b as y}from"../chunks/8nSM80wL.js";import{s as S}from"../chunks/oB5EelJY.js";import{i as U}from"../chunks/BcHZo0e7.js";import{e as u}from"../chunks/BwyBNU8S.js";import{i as j}from"../chunks/CpkcHC1B.js";import{a as b,f as q,s as z,b as B}from"../chunks/B_rOmJSZ.js";var G=_("<p> </p> <button>Logout</button>",1),H=_("<p>Not logged in</p> <button>Login as Test User</button>",1),K=_('<div style="padding: 2rem;"><h1>Firestore Test</h1> <div style="margin-bottom: 1rem;"><!></div> <button>Write to Firestore</button> <p> </p></div>');function ot(k,x){J(x,!1);let g=0,e=v(""),l=v(!1),h=v("");const D="test@test.de",I="test@test.de";C(()=>{b.onAuthStateChanged(t=>{a(l,!!t),a(h,(t==null?void 0:t.email)||"")})});async function T(){try{a(e,"Logging in..."),await B(b,D,I),a(e,"Logged in!")}catch(t){a(e,`Login failed: ${t}`)}}async function W(){try{await z(b),a(e,"Logged out")}catch(t){a(e,`Logout failed: ${t}`)}}async function E(){g++;const t={counter:g,message:`Test write #${g}`,timestamp:new Date().toISOString()};a(e,"Writing..."),await q.setItem("testData",t),a(e,`Written: ${JSON.stringify(t)}`)}j();var p=K(),c=r(s(p),2),F=s(c);{var O=t=>{var o=G(),i=y(o),N=s(i);m(i);var P=r(i,2);w(()=>S(N,`Logged in as: ${n(h)??""}`)),u("click",P,W),d(t,o)},$=t=>{var o=H(),i=r(y(o),2);u("click",i,T),d(t,o)};U(F,t=>{n(l)?t(O):t($,!1)})}m(c);var f=r(c,2),L=r(f,2),A=s(L,!0);m(L),m(p),w(()=>{f.disabled=!n(l),S(A,n(e))}),u("click",f,E),d(k,p),M()}export{ot as component};
