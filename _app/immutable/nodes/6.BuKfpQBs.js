import"../chunks/CWj6FrbW.js";import"../chunks/DsgUr6L9.js";import{o as j,s as w}from"../chunks/DxpFXR_Q.js";import{p as C,f as _,t as y,a as d,i as J,j as a,m as v,s,k as r,l as n,r as m,b as k}from"../chunks/DGzCvzbO.js";import{i as M}from"../chunks/CVru3oPn.js";import{e as u}from"../chunks/D7jdirMI.js";import{i as U}from"../chunks/CSsCqDCM.js";import{a as b,f as q,s as z,b as B}from"../chunks/CkL-GYe2.js";var G=_("<p> </p> <button>Logout</button>",1),H=_("<p>Not logged in</p> <button>Login as Test User</button>",1),K=_('<div style="padding: 2rem;"><h1>Firestore Test</h1> <div style="margin-bottom: 1rem;"><!></div> <button>Write to Firestore</button> <p> </p></div>');function et(S,x){C(x,!1);let g=0,e=v(""),l=v(!1),h=v("");const D="test@test.de",I="test@test.de";j(()=>{b.onAuthStateChanged(t=>{a(l,!!t),a(h,(t==null?void 0:t.email)||"")})});async function T(){try{a(e,"Logging in..."),await B(b,D,I),a(e,"Logged in!")}catch(t){a(e,`Login failed: ${t}`)}}async function W(){try{await z(b),a(e,"Logged out")}catch(t){a(e,`Logout failed: ${t}`)}}async function E(){g++;const t={counter:g,message:`Test write #${g}`,timestamp:new Date().toISOString()};a(e,"Writing..."),await q.setItem("testData",t),a(e,`Written: ${JSON.stringify(t)}`)}U();var p=K(),c=s(r(p),2),F=r(c);{var O=t=>{var o=G(),i=k(o),N=r(i);m(i);var P=s(i,2);y(()=>w(N,`Logged in as: ${n(h)??""}`)),u("click",P,W),d(t,o)},$=t=>{var o=H(),i=s(k(o),2);u("click",i,T),d(t,o)};M(F,t=>{n(l)?t(O):t($,!1)})}m(c);var f=s(c,2),L=s(f,2),A=r(L,!0);m(L),m(p),y(()=>{f.disabled=!n(l),w(A,n(e))}),u("click",f,E),d(S,p),J()}export{et as component};
